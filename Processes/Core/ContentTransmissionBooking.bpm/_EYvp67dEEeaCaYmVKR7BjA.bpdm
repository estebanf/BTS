<bpel:process xmlns:bpdm="http://www.intalio/designer/business-process-data-modeling" xmlns:mapper="http://www.intalio.com/designer/mapper" xmlns:BTS_metrics="http://test.com/xvar/example" xmlns:BTSimplicitPartner="http://thisdiagram/BTSimplicitPartner" xmlns:HSAN_Coordinator="http://thisdiagram/HSAN_Coordinator" xmlns:tns="http://everteam.com/xvar/example" xmlns:this="http://thisdiagram/BTS" xmlns:EmailActivityWSDL="http://bpms.intalio.com/tools/webservices/email" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Customer1="__project:///Schemas/Customer.xsd" xmlns:ax214="http://externaldependencies.rules.bts/bre" xmlns:BTS="http://www.example.org/BTS" xmlns:ax213="http://externaldependencies.rules.bts/xsd" xmlns:ContentTransmissionBooking="http://thisdiagram" xmlns:ns="http://externaldependencies.rules.bts" xmlns:Customer="http://bts.com/Services/REST/Customer.rest" xmlns:RouterAssignment-process="http://thisproject/Processes/Integrations/RouterAssignment/process" xmlns:select_bts_request="urn:intalio.com:connectors:database:bts:select_bts_requestservice" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:CalculateRequestUrgency-process="http://thisproject/Processes/Integrations/CalculateRequestUrgency/process" xmlns:ns0="http://bpms.intalio.com/tools/webservices/javainternalservices/pdf/_uMx0MLy4Eea8DveVMuPLZg" xmlns:Client="http://thisdiagram/Client" xmlns:Vendor_coordinator="http://thisdiagram/Vendor_coordinator" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:ode="http://www.apache.org/ode/type/extension" targetNamespace="http://thisdiagram/BTS">
    <bpdm:dependencies version="6000089">
        <bpdm:namespaceDefinition bpdm:uri="http://test.com/xvar/example" bpdm:prefix="BTS_metrics" bpdm:comment="contrib=&apos;project:///Metrics/BTS_metrics.xvar"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/BTSimplicitPartner" bpdm:prefix="BTSimplicitPartner" bpdm:comment="contrib=&apos;partner-pool:///_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/HSAN_Coordinator" bpdm:prefix="HSAN_Coordinator" bpdm:comment="contrib=&apos;partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://everteam.com/xvar/example" bpdm:prefix="tns" bpdm:comment="contrib=&apos;project:///IntalioObjects/customVariable.xvar"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/BTS" bpdm:prefix="this" bpdm:type="this_process"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://bpms.intalio.com/tools/webservices/email" bpdm:prefix="EmailActivityWSDL" bpdm:comment="contrib=&apos;project:///EmailActivityWSDL.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema-instance" bpdm:prefix="xsi"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="__project:///Schemas/Customer.xsd" bpdm:prefix="Customer1" bpdm:comment="contrib=&apos;project:///Schemas/Customer.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://externaldependencies.rules.bts/bre" bpdm:prefix="ax214" bpdm:comment="contrib=&apos;project:///Rules/ExternalDependencies.bre/dtws_bts_rules_externaldependencies/META-INF/dtws_bts_rules_externaldependencies.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.example.org/BTS" bpdm:prefix="BTS" bpdm:comment="contrib=&apos;project:///Schemas/BTS.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://externaldependencies.rules.bts/xsd" bpdm:prefix="ax213" bpdm:comment="contrib=&apos;project:///Rules/ExternalDependencies.bre/dtws_bts_rules_externaldependencies/META-INF/dtws_bts_rules_externaldependencies.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram" bpdm:prefix="ContentTransmissionBooking" bpdm:comment="contrib=&apos;partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://externaldependencies.rules.bts" bpdm:prefix="ns" bpdm:comment="contrib=&apos;project:///Rules/ExternalDependencies.bre/dtws_bts_rules_externaldependencies/META-INF/dtws_bts_rules_externaldependencies.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://bts.com/Services/REST/Customer.rest" bpdm:prefix="Customer" bpdm:comment="contrib=&apos;project:///Services/REST/Customer.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisproject/Processes/Integrations/RouterAssignment/process" bpdm:prefix="RouterAssignment-process" bpdm:comment="contrib=&apos;project:///Processes/Integrations/RouterAssignment-process.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="urn:intalio.com:connectors:database:bts:select_bts_requestservice" bpdm:prefix="select_bts_request" bpdm:comment="contrib=&apos;project:///Connectors/Database/select_bts_request.sql/select_bts_request.sql.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema" bpdm:prefix="xs"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisproject/Processes/Integrations/CalculateRequestUrgency/process" bpdm:prefix="CalculateRequestUrgency-process" bpdm:comment="contrib=&apos;project:///Processes/Integrations/CalculateRequestUrgency-process.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://bpms.intalio.com/tools/webservices/javainternalservices/pdf/_uMx0MLy4Eea8DveVMuPLZg" bpdm:prefix="ns0" bpdm:comment="contrib=&apos;project:///IntalioObjects/_uMx0MLy4Eea8DveVMuPLZg.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/Client" bpdm:prefix="Client" bpdm:comment="contrib=&apos;partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/Vendor_coordinator" bpdm:prefix="Vendor_coordinator" bpdm:comment="contrib=&apos;partner-pool:///_3WR10Ls4Eeash72vczxLlw"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/XML/1998/namespace" bpdm:prefix="xml"></bpdm:namespaceDefinition>
        <bpdm:namespaceContributor bpdm:url="thisprocess://this-process-types" bpdm:label="process defined this-process-types">
            <vprop:property name="req_id" type="xs:string"/>
            <vprop:property name="prop" type="xs:string"/>
            <wsdl:portType name="ForVendor_coordinator">
                <wsdl:operation name="Receive_external_vendor_costs" bpdm:source="partner-pool:///_3WR10Ls4Eeash72vczxLlw">
                    <wsdl:input message="this:Receive_external_vendor_costsRequest" name="Receive_external_vendor_costs"/>
                    <wsdl:output message="this:Receive_external_vendor_costsResponse" name="Receive_external_vendor_costsResponse"/>
                </wsdl:operation>
            </wsdl:portType>
            <bpel:binding name="CanonicBindingForVendor_coordinator" type="this:ForVendor_coordinator" bpdm:isSynchronized="true"/>
            <wsdl:portType name="ForHSAN_Coordinator">
                <wsdl:operation name="Receive__HSAN_Cost" bpdm:source="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g">
                    <wsdl:input message="this:Receive__HSAN_CostRequest" name="Receive__HSAN_Cost"/>
                    <wsdl:output message="this:Receive__HSAN_CostResponse" name="Receive__HSAN_CostResponse"/>
                </wsdl:operation>
            </wsdl:portType>
            <bpel:binding name="CanonicBindingForHSAN_Coordinator" type="this:ForHSAN_Coordinator" bpdm:isSynchronized="true"/>
            <wsdl:portType name="ForClient">
                <wsdl:operation name="Get_customer_decision" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA">
                    <wsdl:input message="this:Get_customer_decisionRequest" name="Get_customer_decision"/>
                    <wsdl:output message="this:Get_customer_decisionResponse" name="Get_customer_decisionResponse"/>
                </wsdl:operation>
                <wsdl:operation name="Receive_request" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA">
                    <wsdl:input message="this:Receive_requestRequest" name="Receive_request"/>
                    <wsdl:output message="this:Receive_requestResponse" name="Receive_requestResponse"/>
                </wsdl:operation>
            </wsdl:portType>
            <bpel:binding name="CanonicBindingForClient" type="this:ForClient" bpdm:isSynchronized="true"/>
            <xs:element name="Receive_external_vendor_costsRequest" type="BTS:ExternalVendorInquiry" bpdm:source="partner-pool:///_3WR10Ls4Eeash72vczxLlw"/>
            <wsdl:message name="Receive_external_vendor_costsRequest" bpdm:source="partner-pool:///_3WR10Ls4Eeash72vczxLlw">
                <wsdl:part name="body" element="this:Receive_external_vendor_costsRequest"/>
            </wsdl:message>
            <xs:element name="Receive_external_vendor_costsResponse" type="BTS:ACKType" bpdm:source="partner-pool:///_3WR10Ls4Eeash72vczxLlw"/>
            <wsdl:message name="Receive_external_vendor_costsResponse" bpdm:source="partner-pool:///_3WR10Ls4Eeash72vczxLlw">
                <wsdl:part name="body" element="this:Receive_external_vendor_costsResponse"/>
            </wsdl:message>
            <xs:element name="Receive_requestRequest" type="BTS:RequestActionType" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA"/>
            <wsdl:message name="Receive_requestRequest" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA">
                <wsdl:part name="body" element="this:Receive_requestRequest"/>
            </wsdl:message>
            <xs:element name="Receive_requestResponse" type="BTS:RequestACKType" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA"/>
            <wsdl:message name="Receive_requestResponse" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA">
                <wsdl:part name="body" element="this:Receive_requestResponse"/>
            </wsdl:message>
            <xs:element name="Get_customer_decisionRequest" type="BTS:ProposalApprovalType" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA"/>
            <wsdl:message name="Get_customer_decisionRequest" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA">
                <wsdl:part name="body" element="this:Get_customer_decisionRequest"/>
            </wsdl:message>
            <xs:element name="Get_customer_decisionResponse" type="BTS:RequestACKType" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA"/>
            <wsdl:message name="Get_customer_decisionResponse" bpdm:source="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA">
                <wsdl:part name="body" element="this:Get_customer_decisionResponse"/>
            </wsdl:message>
            <xs:element name="Receive__HSAN_CostRequest" type="BTS:HSANCostInquiry" bpdm:source="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g"/>
            <wsdl:message name="Receive__HSAN_CostRequest" bpdm:source="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g">
                <wsdl:part name="body" element="this:Receive__HSAN_CostRequest"/>
            </wsdl:message>
            <xs:element name="Receive__HSAN_CostResponse" type="BTS:ACKType" bpdm:source="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g"/>
            <wsdl:message name="Receive__HSAN_CostResponse" bpdm:source="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g">
                <wsdl:part name="body" element="this:Receive__HSAN_CostResponse"/>
            </wsdl:message>
            <vprop:propertyAlias propertyName="this:req_id" messageType="this:Receive__HSAN_CostRequest" part="body">
                <vprop:query>BTS:RequestID/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:req_id" messageType="HSAN_Coordinator:Receive_hsan_inquiryRequest" part="body">
                <vprop:query>BTS:RequestId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:req_id" messageType="Vendor_coordinator:Receive_vendors_inquiryRequest" part="body">
                <vprop:query>BTS:RequestId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:req_id" messageType="this:Receive_external_vendor_costsRequest" part="body">
                <vprop:query>BTS:RequestId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:prop" messageType="this:Get_customer_decisionRequest" part="body">
                <vprop:query>BTS:RequestId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:prop" messageType="this:Receive_requestResponse" part="body">
                <vprop:query>BTS:RequestId/text()</vprop:query>
            </vprop:propertyAlias>
        </bpdm:namespaceContributor>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_3WR10Ls4Eeash72vczxLlw" bpdm:label="Vendor coordinator"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_EYmf9rdEEeaCaYmVKR7BjA" bpdm:label="Client"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0g" bpdm:label="HSAN Coordinator"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_EYvp67dEEeaCaYmVKR7BjAimplicitPartner" bpdm:label="BTSimplicitPartner"/>
        <bpdm:namespaceContributor bpdm:url="project:///Schemas/BTS.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///EmailActivityWSDL.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Processes/Integrations/CalculateRequestUrgency-process.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/_uMx0MLy4Eea8DveVMuPLZg.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Rules/ExternalDependencies.bre/dtws_bts_rules_externaldependencies/META-INF/dtws_bts_rules_externaldependencies.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Processes/Integrations/RouterAssignment-process.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Services/REST/Customer.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Schemas/Customer.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///Connectors/Database/select_bts_request.sql/select_bts_request.sql.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Connectors/Database/select_bts_request.sql/select_bts_request.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/customVariable.xvar"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/customVariable.xvar.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///Metrics/BTS_metrics.xvar"/>
        <bpdm:namespaceContributor bpdm:url="project:///Metrics/BTS_metrics.xvar.xsd"/>
    </bpdm:dependencies>
    <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="BTS" bpdm:ID="_EYvp67dEEeaCaYmVKR7BjA">
        <bpel:partnerLinks>
            <bpel:partnerLink name="bTsAndClientPlkVar" partnerLinkType="ContentTransmissionBooking:BTsAndClient" myRole="BTS_for_Client" bpdm:enableSharing="false" bpdm:providedService="this:CanonicServiceForClient" bpdm:providedPort="canonicPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/BTS/Client" bpdm:providedIsDefault="true" bpdm:clientTasks="_EYvp67dEEeaCaYmVKR7BjA:_EYvp77dEEeaCaYmVKR7BjA, _2MjIcL27EeaXDrw_F1y5qw:_wuVowL26EeaXDrw_F1y5qw, _LuF2oLyxEeaEvIAxHAjZ3A:_CsEcgLyxEeaEvIAxHAjZ3A, _BGytoLs5Eeash72vczxLlw:_EYvp8rdEEeaCaYmVKR7BjA, _l4q6sLyREeaEvIAxHAjZ3A:_KS6ewL2FEeaXDrw_F1y5qw" bpdm:isManaged="true" bpdm:otherPoolId="_EYmf9rdEEeaCaYmVKR7BjA"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForCanonicPortPlk1Var" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForCanonicPortPlk1" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="RouterAssignment-process:CanonicServiceForcaller" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="epr" bpdm:invokedIsDefault="true" bpdm:clientTasks="_l4q6sLyREeaEvIAxHAjZ3A:_EYvp9bdEEeaCaYmVKR7BjA" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForCanonicPortPlk0Var" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForCanonicPortPlk0" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="CalculateRequestUrgency-process:CanonicServiceForcaller" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="epr" bpdm:invokedIsDefault="true" bpdm:clientTasks="_l4q6sLyREeaEvIAxHAjZ3A:_ckcBBrk1EeajYsanxe9sog" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForPortDtws_bts_rules_externaldependenciesHttpSoap11EndpointPlkVar" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForPortDtws_bts_rules_externaldependenciesHttpSoap11EndpointPlk" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="ns:dtws_bts_rules_externaldependencies" bpdm:invokedPort="dtws_bts_rules_externaldependenciesHttpSoap11Endpoint" bpdm:invokedSOAPAddress="http://localhost:8080/everteam/ode/processes/dtws_bts_rules_externaldependencies" bpdm:invokedIsDefault="true" bpdm:clientTasks="_I3Py4LyREeaEvIAxHAjZ3A:_EYvp_bdEEeaCaYmVKR7BjA" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
            <bpel:partnerLink name="hSAN_CoordinatorAndBTSPlkVar" partnerLinkType="ContentTransmissionBooking:HSAN_CoordinatorAndBTS" initializePartnerRole="yes" myRole="BTS_for_HSAN_Coordinator" bpdm:enableSharing="false" bpdm:providedService="this:CanonicServiceForHSAN_Coordinator" bpdm:providedPort="canonicPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/BTS/HSAN_Coordinator" bpdm:providedIsDefault="true" partnerRole="HSAN_Coordinator_for_BTS" bpdm:invokedService="HSAN_Coordinator:CanonicServiceForBTS" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/HSAN_Coordinator/BTS" bpdm:invokedIsDefault="true" bpdm:clientTasks="_pe478Lr7EeaNtrdCjMGf0g:_dlGDcLr7EeaNtrdCjMGf0g, _pe478Lr7EeaNtrdCjMGf0g:_EY5bCrdEEeaCaYmVKR7BjA" bpdm:isManaged="true" bpdm:otherPoolId="_SkCw0Lr7EeaNtrdCjMGf0g"/>
            <bpel:partnerLink name="bTsAndVendor_coordinatorPlkVar" partnerLinkType="ContentTransmissionBooking:BTsAndVendor_coordinator" initializePartnerRole="yes" myRole="BTS_for_Vendor_coordinator" bpdm:enableSharing="false" bpdm:providedService="this:CanonicServiceForVendor_coordinator" bpdm:providedPort="canonicPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/BTS/Vendor_coordinator" bpdm:providedIsDefault="true" partnerRole="Vendor_coordinator_for_BTS" bpdm:invokedService="Vendor_coordinator:CanonicServiceForBTS" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/Vendor_coordinator/BTS" bpdm:invokedIsDefault="true" bpdm:clientTasks="_9itmELs8Eea34N1b-T2NDQ:_EY5bDLdEEeaCaYmVKR7BjA, _9itmELs8Eea34N1b-T2NDQ:_2J4-YLs8Eea34N1b-T2NDQ" bpdm:isManaged="true" bpdm:otherPoolId="_3WR10Ls4Eeash72vczxLlw"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForHttpPortPlkVar" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForHttpPortPlk" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="Customer:restService" bpdm:invokedPort="httpPort" bpdm:invokedSOAPAddress="http://ubuntu.estebanf.com:3001/api/BtsCustomers/{customer_id}" bpdm:invokedIsDefault="true" bpdm:clientTasks="_LuF2oLyxEeaEvIAxHAjZ3A:_nDmrsLywEeaEvIAxHAjZ3A" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForJavaInternalWSSOAP11port_httpPlkVar" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForJavaInternalWSSOAP11port_httpPlk" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="ns0:JavaInternalWS" bpdm:invokedPort="JavaInternalWSSOAP11port_http" bpdm:invokedSOAPAddress="http://localhost:8080/everteam/ode/processes/JavaInternalWS/_uMx0MLy4Eea8DveVMuPLZg" bpdm:invokedIsDefault="true" bpdm:clientTasks="_LuF2oLyxEeaEvIAxHAjZ3A:_uMx0MLy4Eea8DveVMuPLZg" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForEmailWSSOAP11port_httpPlkVar" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForEmailWSSOAP11port_httpPlk" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="EmailActivityWSDL:EmailWS" bpdm:invokedPort="EmailWSSOAP11port_http" bpdm:invokedSOAPAddress="http://localhost:8080/everteam/ode/processes/EmailWS" bpdm:invokedIsDefault="true" bpdm:clientTasks="_LuF2oLyxEeaEvIAxHAjZ3A:_KgCOcLy5Eea8DveVMuPLZg" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
            <bpel:partnerLink name="bTSimplicitPartnerAndBTSForSelect_bts_requestPortPlkVar" partnerLinkType="ContentTransmissionBooking:BTSimplicitPartnerAndBTSForSelect_bts_requestPortPlk" initializePartnerRole="yes" partnerRole="BTSimplicitPartner_for_BTS" bpdm:invokedService="select_bts_request:select_bts_requestService" bpdm:invokedPort="select_bts_requestPort" bpdm:invokedSOAPAddress="http://ubuntu.estebanf.com:8080/everteam/ode/processes/BTS/Connectors/Database/select_bts_request" bpdm:invokedIsDefault="true" bpdm:clientTasks="_2MjIcL27EeaXDrw_F1y5qw:_6DZW1r2-EeaXDrw_F1y5qw" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjAimplicitPartner"/>
        </bpel:partnerLinks>
        <bpel:correlationSets>
            <bpel:correlationSet name="bts_correlation_set" properties="this:prop"/>
        </bpel:correlationSets>
        <bpel:variables xmlns:xvar="http://ode.apache.org/externalVariables">
            <bpel:variable name="thisReceive_requestRequest2Msg" messageType="this:Receive_requestRequest" bpdm:messageIds="inc:_EYmf8LdEEeaCaYmVKR7BjA"/>
            <bpel:variable name="customVariable" element="tns:customVariable" xvar:id="customVariable-_aFithrdEEeaCaYmVKR7BjA" xvar:relates-to="customVariable-keys" bpdm:xvarType="tns:customVariable" bpdm:id="_aFithrdEEeaCaYmVKR7BjA"/>
            <bpel:variable name="RequestOperation" element="BTS:RequestOperation" bpdm:id="_T77vEbgBEeaCaYmVKR7BjA">
                <bpel:from>
                    <bpel:literal bpdm:linkedElement="BTS:RequestOperation"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="BTS_Request" element="BTS_metrics:BTS_Request" xvar:id="BTS_Request-_5N8TZrgJEeaCaYmVKR7BjA" xvar:relates-to="BTS_Request-keys" bpdm:xvarType="BTS_metrics:BTS_Request" bpdm:id="_5N8TZrgJEeaCaYmVKR7BjA"/>
        </bpel:variables>
        <bpel:links>
            <bpel:link name="_EY5a7LdEEeaCaYmVKR7BjA_to__EY5a47dEEeaCaYmVKR7BjA"/>
            <bpel:link name="_EY5a9rdEEeaCaYmVKR7BjA_to__EY5a47dEEeaCaYmVKR7BjA"/>
            <bpel:link name="_EY5a4LdEEeaCaYmVKR7BjA_to__EY5a47dEEeaCaYmVKR7BjA"/>
        </bpel:links>
        <bpel:sequence>
            <bpdm:messagingtask eventType="start: message" operation="Receive_request" partnerLink="bTsAndClientPlkVar" portType="this:ForClient" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Receive request" bpdm:ID="_EYvp77dEEeaCaYmVKR7BjA">
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisReceive_requestRequest2Msg" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_requestRequest" bpdm:ID="_EYmf8LdEEeaCaYmVKR7BjA"></bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:gateway bpdm:label="Release existing request? " bpdm:ID="_EYvqGrdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EYvqHbdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EYvqHLdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Yes">
                    <bpel:condition>ode:get-property-value("release_key") = $thisReceive_requestRequest2Msg.body/BTS:Action<mapper:mapperLink><mapper:vertice id="1632139128" targetPath="$condition" targetedBy="805896485-arg2"></mapper:vertice><mapper:vertice id="805896485" dimension="79x24" location="483,75"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="759923941" dimension="139x24" location="286,38" targetedBy="805896485-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="742527223" dimension="79x24" location="133,40" targetedBy="759923941-arg0"><mapper:value>"release_key"</mapper:value></mapper:vertice><mapper:vertice id="1925582510" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:Action" targetedBy="805896485-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:sequence>
                    <bpdm:gateway bpdm:label="New or modify existing?" bpdm:ID="_EYvqHrdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EYvqIbdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EYvqILdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Yes">
                            <bpel:condition>ode:get-property-value("confirm_key") != $thisReceive_requestRequest2Msg.body/BTS:Action<mapper:mapperLink><mapper:vertice id="864063789" targetPath="$condition" targetedBy="2028018803-arg2"></mapper:vertice><mapper:vertice id="2028018803" dimension="79x24" location="572,66"><mapper:value>!=</mapper:value></mapper:vertice><mapper:vertice id="1035680709" dimension="139x24" location="389,40" targetedBy="2028018803-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="1469751138" dimension="83x24" location="250,20" targetedBy="1035680709-arg0"><mapper:value>"confirm_key"</mapper:value></mapper:vertice><mapper:vertice id="1746809351" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:Action" targetedBy="2028018803-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                        </bpdm:linkset>
                        <bpel:sequence>
                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Confirm request" bpdm:ID="_2MjIcL27EeaXDrw_F1y5qw">
                                <bpel:variables>
                                    <bpel:variable name="thisReceive_requestResponse1Msg" messageType="this:Receive_requestResponse" bpdm:id="_8_8u6b27EeaXDrw_F1y5qw" bpdm:messageIds=" out:_8_zk8L27EeaXDrw_F1y5qw">
                                        <bpel:from bpdm:toPart="body">
                                            <bpel:literal bpdm:linkedMessageType="this:Receive_requestResponse" bpdm:linkedPart="body"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="select_bts_requestSelect_bts_requestResponse1Msg" messageType="select_bts_request:select_bts_requestOutput" binding="select_bts_request:select_bts_requestPortSoapBinding" operation="select_bts_request" opMsgType="1" bpdm:messageIds="inc:_6DZW1r2-EeaXDrw_F1y5qwIncoming"/>
                                    <bpel:variable name="select_bts_requestSelect_bts_requestRequest1Msg" messageType="select_bts_request:select_bts_requestInput" binding="select_bts_request:select_bts_requestPortSoapBinding" operation="select_bts_request" opMsgType="0" bpdm:messageIds=" out:_6DZW1r2-EeaXDrw_F1y5qwOutgoing">
                                        <bpel:from bpdm:toPart="parameters">
                                            <bpel:literal bpdm:linkedMessageType="select_bts_request:select_bts_requestInput" bpdm:linkedPart="parameters" bpdm:binding="select_bts_request:select_bts_requestPortSoapBinding" bpdm:opMsgType="0" bpdm:operation="select_bts_request"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                </bpel:variables>
                                <bpel:sequence>
                                    <bpdm:messagingtask operation="select_bts_request" partnerLink="bTSimplicitPartnerAndBTSForSelect_bts_requestPortPlkVar" portType="select_bts_request:select_bts_requestPort" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Get service request" bpdm:ID="_6DZW1r2-EeaXDrw_F1y5qw">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$thisReceive_requestRequest2Msg.body/BTS:RequestId</bpel:from>
                                                <bpel:to>$select_bts_requestSelect_bts_requestRequest1Msg.parameters/select_bts_request:execute/select_bts_request:parameters/select_bts_request:REQUESTID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="965892985" targetPath="$select_bts_requestSelect_bts_requestRequest1Msg.parameters/select_bts_request:execute/select_bts_request:parameters/select_bts_request:REQUESTID" targetedBy="900317795-arg0"></mapper:vertice>
  <mapper:vertice id="900317795" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="select_bts_requestSelect_bts_requestRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="select_bts_request:select_bts_requestInput" bpdm:binding="select_bts_request:select_bts_requestPortSoapBinding" bpdm:ID="_6DZW1r2-EeaXDrw_F1y5qwOutgoing"></bpdm:linkset>
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="select_bts_requestSelect_bts_requestResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="select_bts_request:select_bts_requestOutput" bpdm:binding="select_bts_request:select_bts_requestPortSoapBinding" bpdm:ID="_6DZW1r2-EeaXDrw_F1y5qwIncoming"></bpdm:linkset>
                                        <bpdm:thrownFault msgFaultNcName="nsselect_bts_requestFault" msgFaultTypeQname="select_bts_request:select_bts_requestFault"/>
                                    </bpdm:messagingtask>
                                    <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Retrieve data" bpdm:ID="_vUNXoL27EeaXDrw_F1y5qw">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>"Booking"</bpel:from>
                                                <bpel:to>$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="202054470" targetPath="$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType" targetedBy="309123159-arg0"></mapper:vertice>
  <mapper:vertice id="309123159" dimension="79x24" location="496,274">
    <mapper:value>"Booking"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$thisReceive_requestRequest2Msg.body/BTS:RequestId</bpel:from>
                                                <bpel:to>$RequestOperation/BTS:Request/BTS:RequestId</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="859255688" targetPath="$RequestOperation/BTS:Request/BTS:RequestId" targetedBy="578836497-arg0"></mapper:vertice>
  <mapper:vertice id="578836497" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$select_bts_requestSelect_bts_requestResponse1Msg.parameters/select_bts_request:rows[1]/select_bts_request:row/select_bts_request:EVENTTYPE</bpel:from>
                                                <bpel:to>$RequestOperation/BTS:Request/BTS:Information/BTS:EventType</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="945405009" targetPath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType" targetedBy="190482110-arg0"></mapper:vertice>
  <mapper:vertice id="190482110" dimension="70x20" location="20,472">
    <mapper:value>$select_bts_requestSelect_bts_requestResponse1Msg.parameters</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_w64agL27EeaXDrw_F1y5qw">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="22976363" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1004672109-arg0"></mapper:vertice>
  <mapper:vertice id="1004672109" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType</bpel:from>
                                                <bpel:to>$BTS_Request/BTS_metrics:RequestType</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1413992965" targetPath="$BTS_Request/BTS_metrics:RequestType" targetedBy="2058798899-arg0"></mapper:vertice>
  <mapper:vertice id="2058798899" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType"></mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:messagingtask eventType="intermediate: message" operation="Receive_request" partnerLink="bTsAndClientPlkVar" portType="this:ForClient" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Reply" bpdm:ID="_wuVowL26EeaXDrw_F1y5qw">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$ode:pid</bpel:from>
                                                <bpel:to>$thisReceive_requestResponse1Msg.body/BTS:ACK/BTS:Pid</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="945482000" targetPath="$thisReceive_requestResponse1Msg.body/BTS:ACK/BTS:Pid" targetedBy="684104012-arg0"></mapper:vertice>
  <mapper:vertice id="684104012" sourcePath="$ode:pid"></mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>current-dateTime()</bpel:from>
                                                <bpel:to>$thisReceive_requestResponse1Msg.body/BTS:ACK/BTS:Timestamp</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="109566680" targetPath="$thisReceive_requestResponse1Msg.body/BTS:ACK/BTS:Timestamp" targetedBy="1324299005-arg0"></mapper:vertice>
  <mapper:vertice id="1324299005" dimension="109x24" location="450,78">
    <mapper:value>current-dateTime()</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$thisReceive_requestRequest2Msg.body/BTS:RequestId</bpel:from>
                                                <bpel:to>$thisReceive_requestResponse1Msg.body/BTS:RequestId</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="900739942" targetPath="$thisReceive_requestResponse1Msg.body/BTS:RequestId" targetedBy="282597303-arg0"></mapper:vertice>
  <mapper:vertice id="282597303" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_requestResponse1Msg" bpdm:msgVarScopeId="_2MjIcL27EeaXDrw_F1y5qw" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_requestResponse" bpdm:ID="_8_zk8L27EeaXDrw_F1y5qw"></bpdm:linkset>
                                    </bpdm:messagingtask>
                                </bpel:sequence>
                            </bpel:scope>
                            <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EYvqLrdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                            <bpdm:gateway bpdm:label="Parallel_Gateway" bpdm:ID="_EYvqQbdEEeaCaYmVKR7BjA" bpdm:gatewayType="parallel_and" bpdm:isMerge="false">
                                <bpel:sequence>
                                    <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Notify Requester" bpdm:ID="_EY5a4LdEEeaCaYmVKR7BjA"></bpdm:messagingtask>
                                </bpel:sequence>
                                <bpel:sequence>
                                    <bpdm:gateway bpdm:label="Booking or inquiry" bpdm:ID="_EY5a_rdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EY5bALdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Booking">
                                            <bpel:condition>ode:get-property-value("booking_key") = $RequestOperation/BTS:Request/BTS:Information/BTS:RequestType<mapper:mapperLink><mapper:vertice id="1066208084" targetPath="$condition" targetedBy="1309285794-arg2"></mapper:vertice><mapper:vertice id="1309285794" dimension="79x24" location="573,74"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="621831607" dimension="139x24" location="389,57" targetedBy="1309285794-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="1006230458" dimension="85x24" location="211,35" targetedBy="621831607-arg0"><mapper:value>"booking_key"</mapper:value></mapper:vertice><mapper:vertice id="2116355827" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType" targetedBy="1309285794-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EY5bAbdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                        <bpel:sequence>
                                            <bpdm:gateway bpdm:label="Client" bpdm:ID="_EY5bArdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EY5a6rdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Entertainment">
                                                    <bpel:condition>ode:get-property-value("entertainment_key") = $RequestOperation/BTS:Request/BTS:Information/BTS:EventType<mapper:mapperLink><mapper:vertice id="906986447" targetPath="$condition" targetedBy="449680470-arg2"></mapper:vertice><mapper:vertice id="449680470" dimension="79x24" location="530,70"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="562303280" dimension="139x24" location="347,44" targetedBy="449680470-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="353026607" dimension="116x24" location="150,27" targetedBy="562303280-arg0"><mapper:value>"entertainment_key"</mapper:value></mapper:vertice><mapper:vertice id="205946601" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType" targetedBy="449680470-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EY5a8bdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                <bpel:sequence>
                                                    <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Book on feeds" bpdm:ID="_EY5a6LdEEeaCaYmVKR7BjA">
                                                        <bpdm:linkset bpdm:type="assignments">
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="504187162" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="916724692-arg0"></mapper:vertice>
  <mapper:vertice id="916724692" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>"Booked on feeds"</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="780452353" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="34649362-arg0"></mapper:vertice>
  <mapper:vertice id="34649362" dimension="106x24" location="395,125">
    <mapper:value>"Booked on feeds"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                        </bpdm:linkset>
                                                    </bpdm:messagingtask>
                                                </bpel:sequence>
                                                <bpel:sequence>
                                                    <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Book on Schedule ALL" bpdm:ID="_EY5a77dEEeaCaYmVKR7BjA">
                                                        <bpdm:linkset bpdm:type="assignments">
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="900559158" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="202381631-arg0"></mapper:vertice>
  <mapper:vertice id="202381631" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>"Booked on scheduleAll"</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="2113224216" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="2015519856-arg0"></mapper:vertice>
  <mapper:vertice id="2015519856" dimension="139x24" location="440,169">
    <mapper:value>"Booked on scheduleAll"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                        </bpdm:linkset>
                                                    </bpdm:messagingtask>
                                                </bpel:sequence>
                                            </bpdm:gateway>
                                            <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EY5a7LdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpdm:gateway bpdm:label="Client" bpdm:ID="_EY5bBLdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EY5a9LdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Entertainment">
                                                    <bpel:condition>ode:get-property-value("entertainment_key") = $RequestOperation/BTS:Request/BTS:Information/BTS:EventType<mapper:mapperLink><mapper:vertice id="1873214420" targetPath="$condition" targetedBy="1980713009-arg2"></mapper:vertice><mapper:vertice id="1980713009" dimension="79x24" location="515,72"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="409483119" dimension="139x24" location="356,61" targetedBy="1980713009-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="1540834908" dimension="116x24" location="190,35" targetedBy="409483119-arg0"><mapper:value>"entertainment_key"</mapper:value></mapper:vertice><mapper:vertice id="1435699528" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType" targetedBy="1980713009-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EY5a-7dEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                <bpel:sequence>
                                                    <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Hold on Feeds" bpdm:ID="_EY5a8rdEEeaCaYmVKR7BjA">
                                                        <bpdm:linkset bpdm:type="assignments">
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="494834521" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1680850364-arg0"></mapper:vertice>
  <mapper:vertice id="1680850364" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>"Hold on feeds"</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="431056831" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1067814414-arg0"></mapper:vertice>
  <mapper:vertice id="1067814414" dimension="92x24" location="467,122">
    <mapper:value>"Hold on feeds"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                        </bpdm:linkset>
                                                    </bpdm:messagingtask>
                                                </bpel:sequence>
                                                <bpel:sequence>
                                                    <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Hold on ScheduleAll" bpdm:ID="_EY5a-bdEEeaCaYmVKR7BjA">
                                                        <bpdm:linkset bpdm:type="assignments">
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="722454900" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="380989314-arg0"></mapper:vertice>
  <mapper:vertice id="380989314" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>"Hold on scheduleAll"</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1678113084" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="960792043-arg0"></mapper:vertice>
  <mapper:vertice id="960792043" dimension="125x24" location="396,161">
    <mapper:value>"Hold on scheduleAll"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                            </bpel:copy>
                                                        </bpdm:linkset>
                                                    </bpdm:messagingtask>
                                                </bpel:sequence>
                                            </bpdm:gateway>
                                            <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EY5a9rdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                </bpel:sequence>
                            </bpdm:gateway>
                            <bpdm:messagingtask eventType="end: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="End" bpdm:ID="_EY5a_LdEEeaCaYmVKR7BjA"></bpdm:messagingtask>
                        </bpel:sequence>
                        <bpel:sequence>
                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Request valuation" bpdm:ID="_l4q6sLyREeaEvIAxHAjZ3A">
                                <bpel:variables>
                                    <bpel:variable name="routerAssignment-processGet_Router_RequestResponse1Msg" messageType="RouterAssignment-process:Get_Router_RequestResponse" binding="RouterAssignment-process:callerAndProcessServiceBinding" operation="Get_Router_Request" opMsgType="1" bpdm:messageIds="inc:_EYvp9bdEEeaCaYmVKR7BjAIncoming"/>
                                    <bpel:variable name="routerAssignment-processGet_Router_Request1Msg" messageType="RouterAssignment-process:Get_Router_RequestRequest" binding="RouterAssignment-process:callerAndProcessServiceBinding" operation="Get_Router_Request" opMsgType="0" bpdm:messageIds=" out:_EYvp9bdEEeaCaYmVKR7BjAOutgoing">
                                        <bpel:from bpdm:toPart="body">
                                            <bpel:literal bpdm:linkedMessageType="RouterAssignment-process:Get_Router_RequestRequest" bpdm:linkedPart="body" bpdm:binding="RouterAssignment-process:callerAndProcessServiceBinding" bpdm:opMsgType="0" bpdm:operation="Get_Router_Request"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="calculateRequestUrgency-processCalculare_urgency_requestResponse1Msg" messageType="CalculateRequestUrgency-process:Calculare_urgency_requestResponse" binding="CalculateRequestUrgency-process:processAndCallerServiceBinding" operation="Calculare_urgency_request" opMsgType="1" bpdm:messageIds="inc:_ckcBBrk1EeajYsanxe9sogIncoming"/>
                                    <bpel:variable name="calculateRequestUrgency-processCalculare_urgency_request1Msg" messageType="CalculateRequestUrgency-process:Calculare_urgency_requestRequest" binding="CalculateRequestUrgency-process:processAndCallerServiceBinding" operation="Calculare_urgency_request" opMsgType="0" bpdm:messageIds=" out:_ckcBBrk1EeajYsanxe9sogOutgoing">
                                        <bpel:from bpdm:toPart="body">
                                            <bpel:literal bpdm:linkedMessageType="CalculateRequestUrgency-process:Calculare_urgency_requestRequest" bpdm:linkedPart="body" bpdm:binding="CalculateRequestUrgency-process:processAndCallerServiceBinding" bpdm:opMsgType="0" bpdm:operation="Calculare_urgency_request"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="thisReceive_requestResponse2Msg" messageType="this:Receive_requestResponse" bpdm:id="_MpRSIL2FEeaXDrw_F1y5qw" bpdm:messageIds=" out:_MpHhIL2FEeaXDrw_F1y5qw">
                                        <bpel:from bpdm:toPart="body">
                                            <bpel:literal bpdm:linkedMessageType="this:Receive_requestResponse" bpdm:linkedPart="body"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                </bpel:variables>
                                <bpel:links>
                                    <bpel:link name="_I3Py4LyREeaEvIAxHAjZ3A_to__EYvqF7dEEeaCaYmVKR7BjA"/>
                                    <bpel:link name="_pQ75gLjMEeaF5pjuln3vAA_to__EYvqF7dEEeaCaYmVKR7BjA"/>
                                </bpel:links>
                                <bpel:sequence>
                                    <bpdm:messagingtask operation="Calculare_urgency_request" partnerLink="bTSimplicitPartnerAndBTSForCanonicPortPlk0Var" portType="CalculateRequestUrgency-process:Forcaller" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Get Request Urgency" bpdm:ID="_ckcBBrk1EeajYsanxe9sog">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$thisReceive_requestRequest2Msg.body/BTS:RequestInfo/BTS:EventDateTime</bpel:from>
                                                <bpel:to>$calculateRequestUrgency-processCalculare_urgency_request1Msg.body</bpel:to><mapper:mapperLink><mapper:vertice id="125021116" targetPath="$calculateRequestUrgency-processCalculare_urgency_request1Msg.body" targetedBy="665021781-arg0"></mapper:vertice><mapper:vertice id="665021781" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:RequestInfo/BTS:EventDateTime"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="calculateRequestUrgency-processCalculare_urgency_request1Msg" bpdm:variableIsManaged="true" bpdm:messageType="CalculateRequestUrgency-process:Calculare_urgency_requestRequest" bpdm:binding="CalculateRequestUrgency-process:processAndCallerServiceBinding" bpdm:ID="_ckcBBrk1EeajYsanxe9sogOutgoing"></bpdm:linkset>
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="calculateRequestUrgency-processCalculare_urgency_requestResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="CalculateRequestUrgency-process:Calculare_urgency_requestResponse" bpdm:binding="CalculateRequestUrgency-process:processAndCallerServiceBinding" bpdm:ID="_ckcBBrk1EeajYsanxe9sogIncoming"></bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:gateway bpdm:label="Modify existing?" bpdm:ID="_EYvqIrdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EYvqJLdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Yes">
                                            <bpel:condition>ode:get-property-value("modify_key") = $thisReceive_requestRequest2Msg.body/BTS:Action<mapper:mapperLink><mapper:vertice id="1305020409" targetPath="$condition" targetedBy="1725488507-arg2"></mapper:vertice><mapper:vertice id="1725488507" dimension="79x24" location="570,74"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="1942717997" dimension="139x24" location="359,43" targetedBy="1725488507-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="310656162" dimension="79x24" location="75,31" targetedBy="1942717997-arg0"><mapper:value>"modify_key"</mapper:value></mapper:vertice><mapper:vertice id="692486007" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:Action" targetedBy="1725488507-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EYvqJbdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                        <bpel:sequence>
                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Mofidy request data" bpdm:ID="_EY5bCLdEEeaCaYmVKR7BjA">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>bpel:doXslTransform("../../XSLT/ModifyRequest.xslt", $thisReceive_requestRequest2Msg.body, "urgency", $calculateRequestUrgency-processCalculare_urgency_requestResponse1Msg.body)</bpel:from>
                                                        <bpel:to>$RequestOperation</bpel:to><mapper:mapperLink><mapper:vertice id="899336973" targetPath="$RequestOperation" targetedBy="1612185430-arg2"></mapper:vertice><mapper:vertice id="1612185430" dimension="126x24" location="396,84"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="480586265" dimension="171x24" location="172,47" targetedBy="1612185430-arg0"><mapper:value>"../../XSLT/ModifyRequest.xslt"</mapper:value></mapper:vertice><mapper:vertice id="665903647" sourcePath="$thisReceive_requestRequest2Msg.body" targetedBy="1612185430-arg1"></mapper:vertice><mapper:vertice id="1951602670" dimension="79x24" location="154,121" targetedBy="1612185430-arg3"><mapper:value>"urgency"</mapper:value></mapper:vertice><mapper:vertice id="1509776095" sourcePath="$calculateRequestUrgency-processCalculare_urgency_requestResponse1Msg.body" targetedBy="1612185430-arg4"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_sXmXML2oEeaXDrw_F1y5qw">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1266261587" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="2127565649-arg0"></mapper:vertice><mapper:vertice id="2127565649" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:CustomerId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:CustomerID</bpel:to><mapper:mapperLink><mapper:vertice id="150855381" targetPath="$BTS_Request/BTS_metrics:CustomerID" targetedBy="2049048497-arg0"></mapper:vertice><mapper:vertice id="2049048497" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:CustomerId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventDateTime</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:EventDateTime</bpel:to><mapper:mapperLink><mapper:vertice id="2029431579" targetPath="$BTS_Request/BTS_metrics:EventDateTime" targetedBy="1043373972-arg0"></mapper:vertice><mapper:vertice id="1043373972" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventDateTime"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventType</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:EventType</bpel:to><mapper:mapperLink><mapper:vertice id="1941322778" targetPath="$BTS_Request/BTS_metrics:EventType" targetedBy="1210357233-arg0"></mapper:vertice><mapper:vertice id="1210357233" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestType</bpel:to><mapper:mapperLink><mapper:vertice id="267919669" targetPath="$BTS_Request/BTS_metrics:RequestType" targetedBy="1614249531-arg0"></mapper:vertice><mapper:vertice id="1614249531" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Urgency</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Urgency</bpel:to><mapper:mapperLink><mapper:vertice id="1713754319" targetPath="$BTS_Request/BTS_metrics:Urgency" targetedBy="1534681614-arg0"></mapper:vertice><mapper:vertice id="1534681614" sourcePath="$RequestOperation/BTS:Request/BTS:Urgency"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:Location</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Location</bpel:to><mapper:mapperLink><mapper:vertice id="920118886" targetPath="$BTS_Request/BTS_metrics:Location" targetedBy="1535297828-arg0"></mapper:vertice><mapper:vertice id="1535297828" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:Location"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>"Modified"</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="151106454" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="90502567-arg0"></mapper:vertice><mapper:vertice id="90502567" dimension="79x24" location="466,338"><mapper:value>"Modified"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>current-dateTime()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:modified_on</bpel:to><mapper:mapperLink><mapper:vertice id="556992150" targetPath="$BTS_Request/BTS_metrics:modified_on" targetedBy="1831292828-arg0"></mapper:vertice><mapper:vertice id="1831292828" dimension="109x24" location="376,471"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Save request data" bpdm:ID="_3j4v4LgKEeaCaYmVKR7BjA">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>bpel:doXslTransform("../../XSLT/NewRequest.xslt", $thisReceive_requestRequest2Msg.body, "pid", $ode:pid, "urgency", $calculateRequestUrgency-processCalculare_urgency_requestResponse1Msg.body)</bpel:from>
                                                        <bpel:to>$RequestOperation</bpel:to><mapper:mapperLink><mapper:vertice id="896566624" targetPath="$RequestOperation" targetedBy="781359616-arg4"></mapper:vertice><mapper:vertice id="781359616" dimension="126x109" location="300,96"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="1382863046" dimension="157x24" location="90,51" targetedBy="781359616-arg0"><mapper:value>"../../XSLT/NewRequest.xslt"</mapper:value></mapper:vertice><mapper:vertice id="806941792" sourcePath="$thisReceive_requestRequest2Msg.body" targetedBy="781359616-arg1"></mapper:vertice><mapper:vertice id="1030712522" dimension="79x24" location="143,135" targetedBy="781359616-arg2"><mapper:value>"pid"</mapper:value></mapper:vertice><mapper:vertice id="763096663" sourcePath="$ode:pid" targetedBy="781359616-arg3"></mapper:vertice><mapper:vertice id="1415458274" dimension="79x24" location="156,192" targetedBy="781359616-arg5"><mapper:value>"urgency"</mapper:value></mapper:vertice><mapper:vertice id="861344123" sourcePath="$calculateRequestUrgency-processCalculare_urgency_requestResponse1Msg.body" targetedBy="781359616-arg6"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_t0l5oL2oEeaXDrw_F1y5qw">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1049132781" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="39751764-arg0"></mapper:vertice><mapper:vertice id="39751764" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:CustomerId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:CustomerID</bpel:to><mapper:mapperLink><mapper:vertice id="1022149227" targetPath="$BTS_Request/BTS_metrics:CustomerID" targetedBy="63371576-arg0"></mapper:vertice><mapper:vertice id="63371576" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:CustomerId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventDateTime</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:EventDateTime</bpel:to><mapper:mapperLink><mapper:vertice id="2122414325" targetPath="$BTS_Request/BTS_metrics:EventDateTime" targetedBy="1450026131-arg0"></mapper:vertice><mapper:vertice id="1450026131" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventDateTime"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventType</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:EventType</bpel:to><mapper:mapperLink><mapper:vertice id="2043387629" targetPath="$BTS_Request/BTS_metrics:EventType" targetedBy="1754776905-arg0"></mapper:vertice><mapper:vertice id="1754776905" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestType</bpel:to><mapper:mapperLink><mapper:vertice id="596601924" targetPath="$BTS_Request/BTS_metrics:RequestType" targetedBy="728063873-arg0"></mapper:vertice><mapper:vertice id="728063873" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:Location</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Location</bpel:to><mapper:mapperLink><mapper:vertice id="576091069" targetPath="$BTS_Request/BTS_metrics:Location" targetedBy="744417891-arg0"></mapper:vertice><mapper:vertice id="744417891" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:Location"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Urgency</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Urgency</bpel:to><mapper:mapperLink><mapper:vertice id="669606100" targetPath="$BTS_Request/BTS_metrics:Urgency" targetedBy="1102792062-arg0"></mapper:vertice><mapper:vertice id="1102792062" sourcePath="$RequestOperation/BTS:Request/BTS:Urgency"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventDuration</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:EventDuration</bpel:to><mapper:mapperLink><mapper:vertice id="998002452" targetPath="$BTS_Request/BTS_metrics:EventDuration" targetedBy="2106683380-arg0"></mapper:vertice><mapper:vertice id="2106683380" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventDuration"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>"Received"</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="1279634076" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="2083246437-arg0"></mapper:vertice><mapper:vertice id="2083246437" dimension="79x24" location="473,344"><mapper:value>"Received"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                    <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EYvqJrdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                    <bpdm:messagingtask eventType="intermediate: message" operation="Receive_request" partnerLink="bTsAndClientPlkVar" portType="this:ForClient" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Reply caller" bpdm:ID="_KS6ewL2FEeaXDrw_F1y5qw">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$ode:pid</bpel:from>
                                                <bpel:to>$thisReceive_requestResponse2Msg.body/BTS:ACK/BTS:Pid</bpel:to><mapper:mapperLink><mapper:vertice id="1785797002" targetPath="$thisReceive_requestResponse2Msg.body/BTS:ACK/BTS:Pid" targetedBy="1878005545-arg0"></mapper:vertice><mapper:vertice id="1878005545" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>current-dateTime()</bpel:from>
                                                <bpel:to>$thisReceive_requestResponse2Msg.body/BTS:ACK/BTS:Timestamp</bpel:to><mapper:mapperLink><mapper:vertice id="13323659" targetPath="$thisReceive_requestResponse2Msg.body/BTS:ACK/BTS:Timestamp" targetedBy="838769608-arg0"></mapper:vertice><mapper:vertice id="838769608" dimension="109x24" location="438,68"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                <bpel:to>$thisReceive_requestResponse2Msg.body/BTS:RequestId</bpel:to><mapper:mapperLink><mapper:vertice id="1846795482" targetPath="$thisReceive_requestResponse2Msg.body/BTS:RequestId" targetedBy="1178500341-arg0"></mapper:vertice><mapper:vertice id="1178500341" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_requestResponse2Msg" bpdm:msgVarScopeId="_l4q6sLyREeaEvIAxHAjZ3A" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_requestResponse" bpdm:ID="_MpHhIL2FEeaXDrw_F1y5qw">
                                            <bpel:correlation set="bts_correlation_set" initiate="join" pattern="request" bpdm:isSource="false"></bpel:correlation>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:gateway bpdm:label="Parallel_Gateway" bpdm:ID="_EYvp-bdEEeaCaYmVKR7BjA" bpdm:gatewayType="parallel_and" bpdm:isMerge="false">
                                        <bpel:sequence>
                                            <bpdm:messagingtask operation="Get_Router_Request" partnerLink="bTSimplicitPartnerAndBTSForCanonicPortPlk1Var" portType="RouterAssignment-process:Forcaller" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Confirm routers availability" bpdm:ID="_EYvp9bdEEeaCaYmVKR7BjA">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request</bpel:from>
                                                        <bpel:to>$routerAssignment-processGet_Router_Request1Msg.body</bpel:to><mapper:mapperLink><mapper:vertice id="2121788543" targetPath="$routerAssignment-processGet_Router_Request1Msg.body" targetedBy="754354445-arg0"></mapper:vertice><mapper:vertice id="754354445" sourcePath="$RequestOperation/BTS:Request"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="routerAssignment-processGet_Router_Request1Msg" bpdm:variableIsManaged="true" bpdm:messageType="RouterAssignment-process:Get_Router_RequestRequest" bpdm:binding="RouterAssignment-process:callerAndProcessServiceBinding" bpdm:ID="_EYvp9bdEEeaCaYmVKR7BjAOutgoing"></bpdm:linkset>
                                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="routerAssignment-processGet_Router_RequestResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="RouterAssignment-process:Get_Router_RequestResponse" bpdm:binding="RouterAssignment-process:callerAndProcessServiceBinding" bpdm:ID="_EYvp9bdEEeaCaYmVKR7BjAIncoming"></bpdm:linkset>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_pQ75gLjMEeaF5pjuln3vAA">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="756975948" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1234563471-arg0"></mapper:vertice><mapper:vertice id="1234563471" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Router</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:AssignedRoute</bpel:to><mapper:mapperLink><mapper:vertice id="537718338" targetPath="$BTS_Request/BTS_metrics:AssignedRoute" targetedBy="1443062032-arg0"></mapper:vertice><mapper:vertice id="1443062032" sourcePath="$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Router"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Cost</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RouterCost</bpel:to><mapper:mapperLink><mapper:vertice id="1032637487" targetPath="$BTS_Request/BTS_metrics:RouterCost" targetedBy="1885177250-arg0"></mapper:vertice><mapper:vertice id="1885177250" sourcePath="$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Cost"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Router</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:AssignedRouter</bpel:to><mapper:mapperLink><mapper:vertice id="444318695" targetPath="$RequestOperation/BTS:AssignedRouter" targetedBy="454429924-arg0"></mapper:vertice><mapper:vertice id="454429924" sourcePath="$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Router"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Cost</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:RouterCost</bpel:to><mapper:mapperLink><mapper:vertice id="1043722767" targetPath="$RequestOperation/BTS:RouterCost" targetedBy="1823827758-arg0"></mapper:vertice><mapper:vertice id="1823827758" sourcePath="$routerAssignment-processGet_Router_RequestResponse1Msg.body/BTS:Cost"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="External dependencies" bpdm:ID="_I3Py4LyREeaEvIAxHAjZ3A">
                                                <bpel:variables>
                                                    <bpel:variable name="nsInvokeDecisionTableResponse1Msg" messageType="ns:invokeDecisionTableResponse" binding="ns:dtws_bts_rules_externaldependenciesSoap11Binding" operation="invokeDecisionTable" opMsgType="1" bpdm:messageIds="inc:_EYvp_bdEEeaCaYmVKR7BjAIncoming"/>
                                                    <bpel:variable name="nsInvokeDecisionTableRequest1Msg" messageType="ns:invokeDecisionTableRequest" binding="ns:dtws_bts_rules_externaldependenciesSoap11Binding" operation="invokeDecisionTable" opMsgType="0" bpdm:messageIds=" out:_EYvp_bdEEeaCaYmVKR7BjAOutgoing">
                                                        <bpel:from bpdm:toPart="parameters">
                                                            <bpel:literal bpdm:linkedMessageType="ns:invokeDecisionTableRequest" bpdm:linkedPart="parameters" bpdm:binding="ns:dtws_bts_rules_externaldependenciesSoap11Binding" bpdm:opMsgType="0" bpdm:operation="invokeDecisionTable"></bpel:literal>
                                                        </bpel:from>
                                                    </bpel:variable>
                                                </bpel:variables>
                                                <bpel:sequence>
                                                    <bpdm:messagingtask operation="invokeDecisionTable" partnerLink="bTSimplicitPartnerAndBTSForPortDtws_bts_rules_externaldependenciesHttpSoap11EndpointPlkVar" portType="ns:dtws_bts_rules_externaldependenciesPortType" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Check external dependencies" bpdm:ID="_EYvp_bdEEeaCaYmVKR7BjA">
                                                        <bpdm:linkset bpdm:type="assignments">
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventDuration</bpel:from>
                                                                <bpel:to>$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:eventDuration</bpel:to><mapper:mapperLink><mapper:vertice id="175470135" targetPath="$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:eventDuration" targetedBy="1406603578-arg0"></mapper:vertice><mapper:vertice id="1406603578" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventDuration"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:Location</bpel:from>
                                                                <bpel:to>$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:eventLocation</bpel:to><mapper:mapperLink><mapper:vertice id="714735518" targetPath="$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:eventLocation" targetedBy="722327958-arg0"></mapper:vertice><mapper:vertice id="722327958" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:Location"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:EventType</bpel:from>
                                                                <bpel:to>$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:eventType</bpel:to><mapper:mapperLink><mapper:vertice id="503843857" targetPath="$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:eventType" targetedBy="2140645033-arg0"></mapper:vertice><mapper:vertice id="2140645033" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:Urgency</bpel:from>
                                                                <bpel:to>$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:urgency</bpel:to><mapper:mapperLink><mapper:vertice id="955008790" targetPath="$nsInvokeDecisionTableRequest1Msg.parameters/ns:param0/ax213:requestExternalDepencies/ax214:urgency" targetedBy="40456541-arg0"></mapper:vertice><mapper:vertice id="40456541" sourcePath="$RequestOperation/BTS:Request/BTS:Urgency"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                        </bpdm:linkset>
                                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="nsInvokeDecisionTableRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ns:invokeDecisionTableRequest" bpdm:binding="ns:dtws_bts_rules_externaldependenciesSoap11Binding" bpdm:ID="_EYvp_bdEEeaCaYmVKR7BjAOutgoing"></bpdm:linkset>
                                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="nsInvokeDecisionTableResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ns:invokeDecisionTableResponse" bpdm:binding="ns:dtws_bts_rules_externaldependenciesSoap11Binding" bpdm:ID="_EYvp_bdEEeaCaYmVKR7BjAIncoming"></bpdm:linkset>
                                                        <bpdm:thrownFault msgFaultNcName="Exception" msgFaultTypeQname="ns:Exception"/>
                                                    </bpdm:messagingtask>
                                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_i1-6wLk5EeajYsanxe9sog">
                                                        <bpdm:linkset bpdm:type="assignments">
                                                            <bpel:copy>
                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="928426499" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="693946592-arg0"></mapper:vertice><mapper:vertice id="693946592" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:hsan</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:HSANRequired</bpel:to><mapper:mapperLink><mapper:vertice id="1904259616" targetPath="$BTS_Request/BTS_metrics:HSANRequired" targetedBy="1613183230-arg0"></mapper:vertice><mapper:vertice id="1613183230" sourcePath="$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:hsan"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:external</bpel:from>
                                                                <bpel:to>$BTS_Request/BTS_metrics:ExternalResourceRequired</bpel:to><mapper:mapperLink><mapper:vertice id="1525127469" targetPath="$BTS_Request/BTS_metrics:ExternalResourceRequired" targetedBy="953226246-arg0"></mapper:vertice><mapper:vertice id="953226246" sourcePath="$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:external"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:external</bpel:from>
                                                                <bpel:to>$RequestOperation/BTS:ExternalResourcesRequired</bpel:to><mapper:mapperLink><mapper:vertice id="8040944" targetPath="$RequestOperation/BTS:ExternalResourcesRequired" targetedBy="1620865938-arg0"></mapper:vertice><mapper:vertice id="1620865938" sourcePath="$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:external"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                            <bpel:copy>
                                                                <bpel:from>$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:hsan</bpel:from>
                                                                <bpel:to>$RequestOperation/BTS:HSANRequired</bpel:to><mapper:mapperLink><mapper:vertice id="2071752151" targetPath="$RequestOperation/BTS:HSANRequired" targetedBy="1867163862-arg0"></mapper:vertice><mapper:vertice id="1867163862" sourcePath="$nsInvokeDecisionTableResponse1Msg.parameters/ns:return/ax213:requestExternalDepencies/ax214:hsan"></mapper:vertice></mapper:mapperLink>
                                                            </bpel:copy>
                                                        </bpdm:linkset>
                                                    </bpdm:messagingtask>
                                                    <bpdm:gateway bpdm:label="Parallel_Gateway" bpdm:ID="_EYvqALdEEeaCaYmVKR7BjA" bpdm:gatewayType="parallel_and" bpdm:isMerge="false">
                                                        <bpel:sequence>
                                                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="HSAN" bpdm:ID="_fHxEELyQEeaEvIAxHAjZ3A">
                                                                <bpel:sequence>
                                                                    <bpdm:gateway bpdm:label="Requires HSAN" bpdm:ID="_EYvqBLdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EYvqBrdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EYvqB7dEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Yes">
                                                                            <bpel:condition>true() = $RequestOperation/BTS:HSANRequired<mapper:mapperLink><mapper:vertice id="559963587" targetPath="$condition" targetedBy="1108551429-arg2"></mapper:vertice><mapper:vertice id="1108551429" dimension="79x24" location="403,62"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="1890590048" dimension="79x24" location="238,24" targetedBy="1108551429-arg0"><mapper:value>true()</mapper:value></mapper:vertice><mapper:vertice id="1170932708" sourcePath="$RequestOperation/BTS:HSANRequired" targetedBy="1108551429-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                                        </bpdm:linkset>
                                                                        <bpel:sequence>
                                                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_jLy6MLyQEeaEvIAxHAjZ3A"></bpdm:messagingtask>
                                                                        </bpel:sequence>
                                                                        <bpel:sequence>
                                                                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Coordinate HSAN" bpdm:ID="_pe478Lr7EeaNtrdCjMGf0g">
                                                                                <bpel:correlationSets>
                                                                                    <bpel:correlationSet name="hsan-correlation-set" properties="this:req_id"/>
                                                                                </bpel:correlationSets>
                                                                                <bpel:variables>
                                                                                    <bpel:variable name="thisReceive__HSAN_CostResponse2Msg" messageType="this:Receive__HSAN_CostResponse" bpdm:id="_5HnSabr9EeaNtrdCjMGf0g" bpdm:messageIds=" out:_5HTwYLr9EeaNtrdCjMGf0g">
                                                                                        <bpel:from bpdm:toPart="body">
                                                                                            <bpel:literal bpdm:linkedMessageType="this:Receive__HSAN_CostResponse" bpdm:linkedPart="body"></bpel:literal>
                                                                                        </bpel:from>
                                                                                    </bpel:variable>
                                                                                    <bpel:variable name="hSANCoordination-HSAN_CoordinationReceive_request1Msg" messageType="HSAN_Coordinator:Receive_hsan_inquiryRequest" bpdm:id="_FG-c0rr9EeaNtrdCjMGf0g" bpdm:messageIds=" out:_FG-c0Lr9EeaNtrdCjMGf0g">
                                                                                        <bpel:from bpdm:toPart="body">
                                                                                            <bpel:literal bpdm:linkedMessageType="HSAN_Coordinator:Receive_hsan_inquiryRequest" bpdm:linkedPart="body"></bpel:literal>
                                                                                        </bpel:from>
                                                                                    </bpel:variable>
                                                                                    <bpel:variable name="thisReceive__HSAN_CostRequest1Msg" messageType="this:Receive__HSAN_CostRequest" bpdm:id="_NsaeGLr8EeaNtrdCjMGf0g" bpdm:messageIds="inc:_NsJ_YLr8EeaNtrdCjMGf0g"/>
                                                                                    <bpel:variable name="hSAN_CoordinatorReceive_hsan_inquiryResponse2Msg" messageType="HSAN_Coordinator:Receive_hsan_inquiryResponse" bpdm:id="_Ff3d97r9EeaNtrdCjMGf0g" bpdm:messageIds="inc:_FfayALr9EeaNtrdCjMGf0g"/>
                                                                                </bpel:variables>
                                                                                <bpel:sequence>
                                                                                    <bpdm:messagingtask operation="Receive_hsan_inquiry" partnerLink="hSAN_CoordinatorAndBTSPlkVar" portType="HSAN_Coordinator:ForBTS" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Submit request for HSAN Cost" bpdm:ID="_EY5bCrdEEeaCaYmVKR7BjA">
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$RequestOperation/BTS:Request</bpel:from>
                                                                                                <bpel:to>$hSANCoordination-HSAN_CoordinationReceive_request1Msg.body</bpel:to><mapper:mapperLink><mapper:vertice id="988036721" targetPath="$hSANCoordination-HSAN_CoordinationReceive_request1Msg.body" targetedBy="1246058615-arg0"></mapper:vertice><mapper:vertice id="1246058615" sourcePath="$RequestOperation/BTS:Request"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="hSANCoordination-HSAN_CoordinationReceive_request1Msg" bpdm:msgVarScopeId="_pe478Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="HSAN_Coordinator:Receive_hsan_inquiryRequest" bpdm:ID="_FG-c0Lr9EeaNtrdCjMGf0g">
                                                                                            <bpel:correlation set="hsan-correlation-set" initiate="join" pattern="request" bpdm:isSource="false"></bpel:correlation>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="hSAN_CoordinatorReceive_hsan_inquiryResponse2Msg" bpdm:msgVarScopeId="_pe478Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="HSAN_Coordinator:Receive_hsan_inquiryResponse" bpdm:ID="_FfayALr9EeaNtrdCjMGf0g"></bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_A-42ML2nEeaXDrw_F1y5qw">
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1650829625" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="2065299690-arg0"></mapper:vertice><mapper:vertice id="2065299690" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>"Waiting for costs"</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="1967572872" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="2030806073-arg0"></mapper:vertice><mapper:vertice id="2030806073" dimension="107x24" location="488,241"><mapper:value>"Waiting for costs"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>current-dateTime()</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:hsan_started_on</bpel:to><mapper:mapperLink><mapper:vertice id="1714826199" targetPath="$BTS_Request/BTS_metrics:hsan_started_on" targetedBy="966383748-arg0"></mapper:vertice><mapper:vertice id="966383748" dimension="109x24" location="519,473"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                    <bpdm:messagingtask operation="Receive__HSAN_Cost" partnerLink="hSAN_CoordinatorAndBTSPlkVar" portType="this:ForHSAN_Coordinator" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Receive  HSAN Cost" bpdm:ID="_dlGDcLr7EeaNtrdCjMGf0g">
                                                                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisReceive__HSAN_CostRequest1Msg" bpdm:msgVarScopeId="_pe478Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive__HSAN_CostRequest" bpdm:ID="_NsJ_YLr8EeaNtrdCjMGf0g">
                                                                                            <bpel:correlation set="hsan-correlation-set" initiate="join" pattern="response" bpdm:isSource="false"></bpel:correlation>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$ode:pid</bpel:from>
                                                                                                <bpel:to>$thisReceive__HSAN_CostResponse2Msg.body/BTS:Pid</bpel:to><mapper:mapperLink><mapper:vertice id="1744103688" targetPath="$thisReceive__HSAN_CostResponse2Msg.body/BTS:Pid" targetedBy="875590488-arg0"></mapper:vertice><mapper:vertice id="875590488" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>current-dateTime()</bpel:from>
                                                                                                <bpel:to>$thisReceive__HSAN_CostResponse2Msg.body/BTS:Timestamp</bpel:to><mapper:mapperLink><mapper:vertice id="1736916525" targetPath="$thisReceive__HSAN_CostResponse2Msg.body/BTS:Timestamp" targetedBy="1635844133-arg0"></mapper:vertice><mapper:vertice id="1635844133" dimension="109x24" location="492,103"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive__HSAN_CostResponse2Msg" bpdm:msgVarScopeId="_pe478Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive__HSAN_CostResponse" bpdm:ID="_5HTwYLr9EeaNtrdCjMGf0g"></bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_jP64QLr7EeaNtrdCjMGf0g">
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1038588614" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1077320623-arg0"></mapper:vertice><mapper:vertice id="1077320623" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$thisReceive__HSAN_CostRequest1Msg.body/BTS:HSANCost</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:HSANCost</bpel:to><mapper:mapperLink><mapper:vertice id="1657581754" targetPath="$BTS_Request/BTS_metrics:HSANCost" targetedBy="464817561-arg0"></mapper:vertice><mapper:vertice id="464817561" sourcePath="$thisReceive__HSAN_CostRequest1Msg.body/BTS:HSANCost"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$thisReceive__HSAN_CostRequest1Msg.body/BTS:HSANCost</bpel:from>
                                                                                                <bpel:to>$RequestOperation/BTS:HSANCost</bpel:to><mapper:mapperLink><mapper:vertice id="1521516202" targetPath="$RequestOperation/BTS:HSANCost" targetedBy="154794189-arg0"></mapper:vertice><mapper:vertice id="154794189" sourcePath="$thisReceive__HSAN_CostRequest1Msg.body/BTS:HSANCost"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>current-dateTime()</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:hsan_ended_on</bpel:to><mapper:mapperLink><mapper:vertice id="1262630634" targetPath="$BTS_Request/BTS_metrics:hsan_ended_on" targetedBy="1171840928-arg0"></mapper:vertice><mapper:vertice id="1171840928" dimension="109x24" location="367,664"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                </bpel:sequence>
                                                                            </bpel:scope>
                                                                        </bpel:sequence>
                                                                    </bpdm:gateway>
                                                                </bpel:sequence>
                                                            </bpel:scope>
                                                        </bpel:sequence>
                                                        <bpel:sequence>
                                                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="External vendors" bpdm:ID="_wg4sALyQEeaEvIAxHAjZ3A">
                                                                <bpel:sequence>
                                                                    <bpdm:gateway bpdm:label="Require external resources" bpdm:ID="_EYvqDLdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EYvqD7dEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EYvqDrdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Yes">
                                                                            <bpel:condition>true() = $RequestOperation/BTS:ExternalResourcesRequired<mapper:mapperLink><mapper:vertice id="1158035638" targetPath="$condition" targetedBy="1670295859-arg2"></mapper:vertice><mapper:vertice id="1670295859" dimension="79x24" location="366,97"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="1461071726" dimension="79x24" location="227,41" targetedBy="1670295859-arg0"><mapper:value>true()</mapper:value></mapper:vertice><mapper:vertice id="1274156106" sourcePath="$RequestOperation/BTS:ExternalResourcesRequired" targetedBy="1670295859-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                                        </bpdm:linkset>
                                                                        <bpel:sequence>
                                                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_zUvTsLyQEeaEvIAxHAjZ3A"></bpdm:messagingtask>
                                                                        </bpel:sequence>
                                                                        <bpel:sequence>
                                                                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Coordinate external vendors" bpdm:ID="_9itmELs8Eea34N1b-T2NDQ">
                                                                                <bpel:correlationSets>
                                                                                    <bpel:correlationSet name="vendor-correlation-set" properties="this:req_id"/>
                                                                                </bpel:correlationSets>
                                                                                <bpel:variables>
                                                                                    <bpel:variable name="vendor_coordinatorReceive_vendors_inquiryResponse2Msg" messageType="Vendor_coordinator:Receive_vendors_inquiryResponse" bpdm:id="_LH5pYLs9Eea34N1b-T2NDQ" bpdm:messageIds="inc:_LHTMcLs9Eea34N1b-T2NDQ"/>
                                                                                    <bpel:variable name="thisReceive_external_vendor_costsResponse2Msg" messageType="this:Receive_external_vendor_costsResponse" bpdm:id="_BtWvqbs_Eea34N1b-T2NDQ" bpdm:messageIds=" out:_BtD0sLs_Eea34N1b-T2NDQ">
                                                                                        <bpel:from bpdm:toPart="body">
                                                                                            <bpel:literal bpdm:linkedMessageType="this:Receive_external_vendor_costsResponse" bpdm:linkedPart="body"></bpel:literal>
                                                                                        </bpel:from>
                                                                                    </bpel:variable>
                                                                                    <bpel:variable name="vendor_coordinatorEventStartMessageRequest1" messageType="Vendor_coordinator:Receive_vendors_inquiryRequest" bpdm:id="_KlxzwLs9Eea34N1b-T2NDQ" bpdm:messageIds=" out:_KloCwLs9Eea34N1b-T2NDQ">
                                                                                        <bpel:from bpdm:toPart="body">
                                                                                            <bpel:literal bpdm:linkedMessageType="Vendor_coordinator:Receive_vendors_inquiryRequest" bpdm:linkedPart="body"></bpel:literal>
                                                                                        </bpel:from>
                                                                                    </bpel:variable>
                                                                                    <bpel:variable name="thisReceive_external_vendor_costsRequest1Msg" messageType="this:Receive_external_vendor_costsRequest" bpdm:id="_BXvsCLs_Eea34N1b-T2NDQ" bpdm:messageIds="inc:_BXJ2ILs_Eea34N1b-T2NDQ"/>
                                                                                </bpel:variables>
                                                                                <bpel:sequence>
                                                                                    <bpdm:messagingtask operation="Receive_vendors_inquiry" partnerLink="bTsAndVendor_coordinatorPlkVar" portType="Vendor_coordinator:ForBTS" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Submit request for external vendor costs" bpdm:ID="_EY5bDLdEEeaCaYmVKR7BjA">
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$RequestOperation/BTS:Request</bpel:from>
                                                                                                <bpel:to>$vendor_coordinatorEventStartMessageRequest1.body</bpel:to><mapper:mapperLink><mapper:vertice id="1166146844" targetPath="$vendor_coordinatorEventStartMessageRequest1.body" targetedBy="1202365840-arg0"></mapper:vertice><mapper:vertice id="1202365840" sourcePath="$RequestOperation/BTS:Request"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="vendor_coordinatorEventStartMessageRequest1" bpdm:msgVarScopeId="_9itmELs8Eea34N1b-T2NDQ" bpdm:variableIsManaged="true" bpdm:messageType="Vendor_coordinator:Receive_vendors_inquiryRequest" bpdm:ID="_KloCwLs9Eea34N1b-T2NDQ">
                                                                                            <bpel:correlation set="vendor-correlation-set" initiate="join" pattern="request" bpdm:isSource="false"></bpel:correlation>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="vendor_coordinatorReceive_vendors_inquiryResponse2Msg" bpdm:msgVarScopeId="_9itmELs8Eea34N1b-T2NDQ" bpdm:variableIsManaged="true" bpdm:messageType="Vendor_coordinator:Receive_vendors_inquiryResponse" bpdm:ID="_LHTMcLs9Eea34N1b-T2NDQ"></bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_KvZG8L2nEeaXDrw_F1y5qw">
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="28778440" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="2054355966-arg0"></mapper:vertice><mapper:vertice id="2054355966" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>"Waiting for costs"</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="1814627043" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1772165271-arg0"></mapper:vertice><mapper:vertice id="1772165271" dimension="107x24" location="435,165"><mapper:value>"Waiting for costs"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>current-dateTime()</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:external_started_on</bpel:to><mapper:mapperLink><mapper:vertice id="1729399283" targetPath="$BTS_Request/BTS_metrics:external_started_on" targetedBy="813631139-arg0"></mapper:vertice><mapper:vertice id="813631139" dimension="109x24" location="422,345"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                    <bpdm:messagingtask operation="Receive_external_vendor_costs" partnerLink="bTsAndVendor_coordinatorPlkVar" portType="this:ForVendor_coordinator" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Receive external vendor costs" bpdm:ID="_2J4-YLs8Eea34N1b-T2NDQ">
                                                                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisReceive_external_vendor_costsRequest1Msg" bpdm:msgVarScopeId="_9itmELs8Eea34N1b-T2NDQ" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_external_vendor_costsRequest" bpdm:ID="_BXJ2ILs_Eea34N1b-T2NDQ">
                                                                                            <bpel:correlation set="vendor-correlation-set" initiate="join" pattern="response" bpdm:isSource="false"></bpel:correlation>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$ode:pid</bpel:from>
                                                                                                <bpel:to>$thisReceive_external_vendor_costsResponse2Msg.body/BTS:Pid</bpel:to><mapper:mapperLink><mapper:vertice id="1188230806" targetPath="$thisReceive_external_vendor_costsResponse2Msg.body/BTS:Pid" targetedBy="1641485674-arg0"></mapper:vertice><mapper:vertice id="1641485674" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>current-dateTime()</bpel:from>
                                                                                                <bpel:to>$thisReceive_external_vendor_costsResponse2Msg.body/BTS:Timestamp</bpel:to><mapper:mapperLink><mapper:vertice id="1875193398" targetPath="$thisReceive_external_vendor_costsResponse2Msg.body/BTS:Timestamp" targetedBy="576720942-arg0"></mapper:vertice><mapper:vertice id="576720942" dimension="109x24" location="537,95"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_external_vendor_costsResponse2Msg" bpdm:msgVarScopeId="_9itmELs8Eea34N1b-T2NDQ" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_external_vendor_costsResponse" bpdm:ID="_BtD0sLs_Eea34N1b-T2NDQ"></bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_63f9ALs8Eea34N1b-T2NDQ">
                                                                                        <bpdm:linkset bpdm:type="assignments">
                                                                                            <bpel:copy>
                                                                                                <bpel:from>bpel:doXslTransform("../../XSLT/MergeRequestOperationWithVendorQuotes.xslt", $thisReceive_external_vendor_costsRequest1Msg.body, "obj", $RequestOperation)</bpel:from>
                                                                                                <bpel:to>$RequestOperation</bpel:to><mapper:mapperLink><mapper:vertice id="1340758396" targetPath="$RequestOperation" targetedBy="966014884-arg4"></mapper:vertice><mapper:vertice id="966014884" dimension="126x24" location="528,120"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="1497227201" dimension="321x24" location="120,60" targetedBy="966014884-arg0"><mapper:value>"../../XSLT/MergeRequestOperationWithVendorQuotes.xslt"</mapper:value></mapper:vertice><mapper:vertice id="1289011137" sourcePath="$thisReceive_external_vendor_costsRequest1Msg.body" targetedBy="966014884-arg1"></mapper:vertice><mapper:vertice id="1867240514" dimension="79x24" location="251,168" targetedBy="966014884-arg2"><mapper:value>"obj"</mapper:value></mapper:vertice><mapper:vertice id="585488073" sourcePath="$RequestOperation" targetedBy="966014884-arg3"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="733819957" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="928530123-arg0"></mapper:vertice><mapper:vertice id="928530123" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                            <bpel:copy>
                                                                                                <bpel:from>current-dateTime()</bpel:from>
                                                                                                <bpel:to>$BTS_Request/BTS_metrics:external_ended_on</bpel:to><mapper:mapperLink><mapper:vertice id="1624714219" targetPath="$BTS_Request/BTS_metrics:external_ended_on" targetedBy="984890840-arg0"></mapper:vertice><mapper:vertice id="984890840" dimension="109x24" location="439,272"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                                                            </bpel:copy>
                                                                                        </bpdm:linkset>
                                                                                    </bpdm:messagingtask>
                                                                                </bpel:sequence>
                                                                            </bpel:scope>
                                                                        </bpel:sequence>
                                                                    </bpdm:gateway>
                                                                </bpel:sequence>
                                                            </bpel:scope>
                                                        </bpel:sequence>
                                                    </bpdm:gateway>
                                                </bpel:sequence>
                                            </bpel:scope>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                </bpel:sequence>
                            </bpel:scope>
                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_kYdL0L2nEeaXDrw_F1y5qw">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1199847152" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1738919808-arg0"></mapper:vertice><mapper:vertice id="1738919808" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>"Valuated"</bpel:from>
                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="2124721179" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1470887267-arg0"></mapper:vertice><mapper:vertice id="1470887267" dimension="79x24" location="409,168"><mapper:value>"Valuated"</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>current-dateTime()</bpel:from>
                                        <bpel:to>$BTS_Request/BTS_metrics:valuated_on</bpel:to><mapper:mapperLink><mapper:vertice id="1371646487" targetPath="$BTS_Request/BTS_metrics:valuated_on" targetedBy="530508524-arg0"></mapper:vertice><mapper:vertice id="530508524" dimension="109x24" location="422,288"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Proposal approval" bpdm:ID="_LuF2oLyxEeaEvIAxHAjZ3A">
                                <bpel:variables>
                                    <bpel:variable name="customerGet_customerResponse1Msg" messageType="Customer:get_customer_output" binding="Customer:restBinding" operation="get_customer" opMsgType="1" bpdm:messageIds="inc:_nDmrsLywEeaEvIAxHAjZ3AIncoming"/>
                                    <bpel:variable name="customerGet_customerRequest1Msg" messageType="Customer:get_customer_input" binding="Customer:restBinding" operation="get_customer" opMsgType="0" bpdm:messageIds=" out:_nDmrsLywEeaEvIAxHAjZ3AOutgoing">
                                        <bpel:from bpdm:toPart="customer_id">
                                            <bpel:literal bpdm:linkedMessageType="Customer:get_customer_input" bpdm:linkedPart="customer_id" bpdm:binding="Customer:restBinding" bpdm:opMsgType="0" bpdm:operation="get_customer"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="ProposalTotal" element="BTS:ProposalTotal" bpdm:id="_sNKfJbyzEeaEvIAxHAjZ3A">
                                        <bpel:from>
                                            <bpel:literal bpdm:linkedElement="BTS:ProposalTotal"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="PDFTaskResponse1Msg" messageType="ns0:sendResponse" binding="ns0:JavaInternalWSSOAP11Binding" operation="com.intalio.bpms.pdfgen.PDFGenerator.generatePDF" opMsgType="1" bpdm:messageIds="inc:_uMx0MLy4Eea8DveVMuPLZgIncoming"/>
                                    <bpel:variable name="PDFTaskRequest1Msg" messageType="ns0:sendRequest" binding="ns0:JavaInternalWSSOAP11Binding" operation="com.intalio.bpms.pdfgen.PDFGenerator.generatePDF" opMsgType="0" bpdm:messageIds=" out:_uMx0MLy4Eea8DveVMuPLZgOutgoing">
                                        <bpel:from bpdm:toPart="inputParams">
                                            <bpel:literal bpdm:linkedMessageType="ns0:sendRequest" bpdm:linkedPart="inputParams" bpdm:binding="ns0:JavaInternalWSSOAP11Binding" bpdm:opMsgType="0" bpdm:operation="com.intalio.bpms.pdfgen.PDFGenerator.generatePDF"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="emailActivityWSDLSendResponse1Msg" messageType="EmailActivityWSDL:sendResponse" binding="EmailActivityWSDL:EmailWSSOAP11Binding" operation="send" opMsgType="1" bpdm:messageIds="inc:_KgCOcLy5Eea8DveVMuPLZgIncoming"/>
                                    <bpel:variable name="emailActivityWSDLSendRequest1Msg" messageType="EmailActivityWSDL:sendRequest" binding="EmailActivityWSDL:EmailWSSOAP11Binding" operation="send" opMsgType="0" bpdm:messageIds=" out:_KgCOcLy5Eea8DveVMuPLZgOutgoing">
                                        <bpel:from bpdm:toPart="InputParameters">
                                            <bpel:literal bpdm:linkedMessageType="EmailActivityWSDL:sendRequest" bpdm:linkedPart="InputParameters" bpdm:binding="EmailActivityWSDL:EmailWSSOAP11Binding" bpdm:opMsgType="0" bpdm:operation="send"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="PDFReqData" element="BTS:PDFReqData" bpdm:id="_T65sxrzBEea8DveVMuPLZg">
                                        <bpel:from>
                                            <bpel:literal bpdm:linkedElement="BTS:PDFReqData"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="PDFVendors" element="BTS:PDFVendors" bpdm:id="_tUex5rzGEea8DveVMuPLZg">
                                        <bpel:from>
                                            <bpel:literal bpdm:linkedElement="BTS:PDFVendors"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="thisGet_customer_decisionRequest1Msg" messageType="this:Get_customer_decisionRequest" bpdm:id="_CriL_L2sEeaXDrw_F1y5qw" bpdm:messageIds="inc:_CrOp8L2sEeaXDrw_F1y5qw"/>
                                    <bpel:variable name="thisGet_customer_decisionResponse2Msg" messageType="this:Get_customer_decisionResponse" bpdm:id="_EdFCEL2sEeaXDrw_F1y5qw" bpdm:messageIds=" out:_Ec7REL2sEeaXDrw_F1y5qw">
                                        <bpel:from bpdm:toPart="body">
                                            <bpel:literal bpdm:linkedMessageType="this:Get_customer_decisionResponse" bpdm:linkedPart="body"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                    <bpel:variable name="emailvariables" element="BTS:emailvariables" bpdm:id="_wXoSlr2yEeaXDrw_F1y5qw">
                                        <bpel:from>
                                            <bpel:literal bpdm:linkedElement="BTS:emailvariables"></bpel:literal>
                                        </bpel:from>
                                    </bpel:variable>
                                </bpel:variables>
                                <bpel:links>
                                    <bpel:link name="_nDmrsLywEeaEvIAxHAjZ3A_to__pGuaALywEeaEvIAxHAjZ3A"/>
                                    <bpel:link name="_l51nQLywEeaEvIAxHAjZ3A_to__pGuaALywEeaEvIAxHAjZ3A"/>
                                </bpel:links>
                                <bpel:sequence>
                                    <bpdm:gateway bpdm:label="Parallel_Gateway" bpdm:ID="_k2Cn8LywEeaEvIAxHAjZ3A" bpdm:gatewayType="parallel_and" bpdm:isMerge="false">
                                        <bpel:sequence>
                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Calculate total" bpdm:ID="_l51nQLywEeaEvIAxHAjZ3A">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>bpel:doXslTransform("../../XSLT/CalculateTotal.xslt", $RequestOperation)</bpel:from>
                                                        <bpel:to>$ProposalTotal</bpel:to><mapper:mapperLink><mapper:vertice id="809738100" targetPath="$ProposalTotal" targetedBy="724874468-arg2"></mapper:vertice><mapper:vertice id="724874468" dimension="126x24" location="329,64"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="1664118096" dimension="167x24" location="118,39" targetedBy="724874468-arg0"><mapper:value>"../../XSLT/CalculateTotal.xslt"</mapper:value></mapper:vertice><mapper:vertice id="1404060798" sourcePath="$RequestOperation" targetedBy="724874468-arg1"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpdm:messagingtask operation="get_customer" partnerLink="bTSimplicitPartnerAndBTSForHttpPortPlkVar" portType="Customer:restInterface" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Get customer info" bpdm:ID="_nDmrsLywEeaEvIAxHAjZ3A">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:Information/BTS:CustomerId</bpel:from>
                                                        <bpel:to>$customerGet_customerRequest1Msg.customer_id</bpel:to><mapper:mapperLink><mapper:vertice id="174635005" targetPath="$customerGet_customerRequest1Msg.customer_id" targetedBy="356256390-arg0"></mapper:vertice><mapper:vertice id="356256390" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:CustomerId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>ode:get-property-value("customers_endpoint")</bpel:from>
                                                        <bpel:to endpointReference="partnerRole"/><mapper:mapperLink><mapper:vertice id="280154633" targetPath="$endpoint" targetedBy="722108225-arg1"></mapper:vertice><mapper:vertice id="722108225" dimension="139x24" location="349,114"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="884361858" dimension="126x24" location="113,87" targetedBy="722108225-arg0"><mapper:value>"customers_endpoint"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="customerGet_customerRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="Customer:get_customer_input" bpdm:binding="Customer:restBinding" bpdm:ID="_nDmrsLywEeaEvIAxHAjZ3AOutgoing"></bpdm:linkset>
                                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="customerGet_customerResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="Customer:get_customer_output" bpdm:binding="Customer:restBinding" bpdm:ID="_nDmrsLywEeaEvIAxHAjZ3AIncoming"></bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="__xer8Ly2EeaEvIAxHAjZ3A">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>bpel:doXslTransform("../../XSLT/PreparePDFData.xslt", $RequestOperation)</bpel:from>
                                                <bpel:to>$PDFReqData</bpel:to><mapper:mapperLink><mapper:vertice id="683533706" targetPath="$PDFReqData" targetedBy="1192306959-arg2"></mapper:vertice><mapper:vertice id="1192306959" dimension="126x24" location="420,36"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="130448507" dimension="176x24" location="170,11" targetedBy="1192306959-arg0"><mapper:value>"../../XSLT/PreparePDFData.xslt"</mapper:value></mapper:vertice><mapper:vertice id="1521415199" sourcePath="$RequestOperation" targetedBy="1192306959-arg1"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>bpel:doXslTransform("../../XSLT/PreparePDFVendors.xslt", $RequestOperation)</bpel:from>
                                                <bpel:to>$PDFVendors</bpel:to><mapper:mapperLink><mapper:vertice id="1919831484" targetPath="$PDFVendors" targetedBy="1223528578-arg2"></mapper:vertice><mapper:vertice id="1223528578" dimension="126x24" location="478,85"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="663143365" dimension="195x24" location="108,96" targetedBy="1223528578-arg0"><mapper:value>"../../XSLT/PreparePDFVendors.xslt"</mapper:value></mapper:vertice><mapper:vertice id="462347130" sourcePath="$RequestOperation" targetedBy="1223528578-arg1"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:messagingtask operation="com.intalio.bpms.pdfgen.PDFGenerator.generatePDF" partnerLink="bTSimplicitPartnerAndBTSForJavaInternalWSSOAP11port_httpPlkVar" portType="ns0:JavaInternalWSPortType" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Generate proposal PDF" bpdm:ID="_uMx0MLy4Eea8DveVMuPLZg">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>concat("request-", $RequestOperation/BTS:Request/BTS:RequestId, ".pdf")</bpel:from>
                                                <bpel:to>$PDFTaskRequest1Msg.inputParams/ns0:pdfMetaData/ns0:fileName</bpel:to><mapper:mapperLink><mapper:vertice id="363012555" targetPath="$PDFTaskRequest1Msg.inputParams/ns0:pdfMetaData/ns0:fileName" targetedBy="1725597595-arg3"></mapper:vertice><mapper:vertice id="1725597595" dimension="79x24" location="388,131"><mapper:value>concat()</mapper:value></mapper:vertice><mapper:vertice id="1141185883" dimension="79x24" location="283,100" targetedBy="1725597595-arg0"><mapper:value>"request-"</mapper:value></mapper:vertice><mapper:vertice id="1565061814" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId" targetedBy="1725597595-arg1"></mapper:vertice><mapper:vertice id="2002975887" dimension="79x24" location="267,160" targetedBy="1725597595-arg2"><mapper:value>".pdf"</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>concat("Proposal for request ", $RequestOperation/BTS:Request/BTS:RequestId)</bpel:from>
                                                <bpel:to>$PDFTaskRequest1Msg.inputParams/ns0:pdfMetaData/ns0:title</bpel:to><mapper:mapperLink><mapper:vertice id="268388646" targetPath="$PDFTaskRequest1Msg.inputParams/ns0:pdfMetaData/ns0:title" targetedBy="1438662901-arg2"></mapper:vertice><mapper:vertice id="1438662901" dimension="79x24" location="518,223"><mapper:value>concat()</mapper:value></mapper:vertice><mapper:vertice id="62474849" dimension="127x24" location="357,199" targetedBy="1438662901-arg0"><mapper:value>"Proposal for request "</mapper:value></mapper:vertice><mapper:vertice id="801927029" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId" targetedBy="1438662901-arg1"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$customerGet_customerResponse1Msg.customer</bpel:from>
                                                <bpel:to>$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:cust</bpel:to><mapper:mapperLink><mapper:vertice id="1540697121" targetPath="$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:cust" targetedBy="13866519-arg0"></mapper:vertice><mapper:vertice id="13866519" sourcePath="$customerGet_customerResponse1Msg.customer"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$ProposalTotal</bpel:from>
                                                <bpel:to>$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:total</bpel:to><mapper:mapperLink><mapper:vertice id="188703868" targetPath="$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:total" targetedBy="1149696962-arg0"></mapper:vertice><mapper:vertice id="1149696962" sourcePath="$ProposalTotal"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$PDFReqData</bpel:from>
                                                <bpel:to>$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:req</bpel:to><mapper:mapperLink><mapper:vertice id="1844865184" targetPath="$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:req" targetedBy="1974207083-arg0"></mapper:vertice><mapper:vertice id="1974207083" sourcePath="$PDFReqData"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$PDFVendors</bpel:from>
                                                <bpel:to>$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:vendors</bpel:to><mapper:mapperLink><mapper:vertice id="1376028131" targetPath="$PDFTaskRequest1Msg.inputParams/ns0:templateVariables/ns0:vendors" targetedBy="1509062569-arg0"></mapper:vertice><mapper:vertice id="1509062569" sourcePath="$PDFVendors"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="PDFTaskRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ns0:sendRequest" bpdm:binding="ns0:JavaInternalWSSOAP11Binding" bpdm:ID="_uMx0MLy4Eea8DveVMuPLZgOutgoing"></bpdm:linkset>
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="PDFTaskResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ns0:sendResponse" bpdm:binding="ns0:JavaInternalWSSOAP11Binding" bpdm:ID="_uMx0MLy4Eea8DveVMuPLZgIncoming"></bpdm:linkset>
                                        <bpdm:thrownFault msgFaultNcName="fault" msgFaultTypeQname="ns0:sendFault"/>
                                    </bpdm:messagingtask>
                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_IKidML2qEeaXDrw_F1y5qw">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1616074015" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1325318377-arg0"></mapper:vertice><mapper:vertice id="1325318377" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$PDFTaskResponse1Msg.pdfAccessUrl</bpel:from>
                                                <bpel:to>$BTS_Request/BTS_metrics:proposal</bpel:to><mapper:mapperLink><mapper:vertice id="160177489" targetPath="$BTS_Request/BTS_metrics:proposal" targetedBy="158408591-arg0"></mapper:vertice><mapper:vertice id="158408591" sourcePath="$PDFTaskResponse1Msg.pdfAccessUrl"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:gateway bpdm:label="Approval needed" bpdm:ID="_wJMXMLywEeaEvIAxHAjZ3A" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_6UE217ywEeaEvIAxHAjZ3A" bpdm:targetDisplayName="Yes">
                                            <bpel:condition>$ProposalTotal/BTS:Amount&gt;= xs:double($customerGet_customerResponse1Msg.customer/approvalthreshold)<mapper:mapperLink><mapper:vertice id="2113570684" targetPath="$condition" targetedBy="2137734674-arg2"></mapper:vertice><mapper:vertice id="2137734674" dimension="79x24" location="469,36"><mapper:value>&gt;=</mapper:value></mapper:vertice><mapper:vertice id="1926690259" sourcePath="$ProposalTotal/BTS:Amount" targetedBy="2137734674-arg0"></mapper:vertice><mapper:vertice id="1480205583" dimension="79x24" location="228,126" targetedBy="2137734674-arg1"><mapper:value>xs:double()</mapper:value></mapper:vertice><mapper:vertice id="499061683" sourcePath="$customerGet_customerResponse1Msg.customer/approvalthreshold" targetedBy="1480205583-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_JrGrN7yxEeaEvIAxHAjZ3A" bpdm:targetDisplayName="default"></bpdm:linkset>
                                        <bpel:sequence>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_9qWb8L2pEeaXDrw_F1y5qw">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="300872688" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="915982371-arg0"></mapper:vertice><mapper:vertice id="915982371" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>true()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:ApprovalNeeded</bpel:to><mapper:mapperLink><mapper:vertice id="1497348425" targetPath="$BTS_Request/BTS_metrics:ApprovalNeeded" targetedBy="267540261-arg0"></mapper:vertice><mapper:vertice id="267540261" dimension="79x24" location="477,214"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>false()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Approved</bpel:to><mapper:mapperLink><mapper:vertice id="550675392" targetPath="$BTS_Request/BTS_metrics:Approved" targetedBy="1824749903-arg0"></mapper:vertice><mapper:vertice id="1824749903" dimension="79x24" location="491,269"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>true()</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:ApprovalNeeded</bpel:to><mapper:mapperLink><mapper:vertice id="84795380" targetPath="$RequestOperation/BTS:ApprovalNeeded" targetedBy="46972046-arg0"></mapper:vertice><mapper:vertice id="46972046" dimension="79x24" location="500,67"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>false()</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:Approved</bpel:to><mapper:mapperLink><mapper:vertice id="1432554456" targetPath="$RequestOperation/BTS:Approved" targetedBy="1450295801-arg0"></mapper:vertice><mapper:vertice id="1450295801" dimension="79x24" location="504,134"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$emailvariables/BTS:requestid</bpel:to><mapper:mapperLink><mapper:vertice id="562700917" targetPath="$emailvariables/BTS:requestid" targetedBy="1576440855-arg0"></mapper:vertice><mapper:vertice id="1576440855" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask operation="send" partnerLink="bTSimplicitPartnerAndBTSForEmailWSSOAP11port_httpPlkVar" portType="EmailActivityWSDL:EmailWSPortType" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Email proposal to customer" bpdm:ID="_KgCOcLy5Eea8DveVMuPLZg">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>concat("Approve proposal for request #", $RequestOperation/BTS:Request/BTS:RequestId)</bpel:from>
                                                        <bpel:to>$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Subject</bpel:to><mapper:mapperLink><mapper:vertice id="672399081" targetPath="$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Subject" targetedBy="2010464815-arg2"></mapper:vertice><mapper:vertice id="2010464815" dimension="79x24" location="529,190"><mapper:value>concat()</mapper:value></mapper:vertice><mapper:vertice id="1583195542" dimension="182x24" location="309,156" targetedBy="2010464815-arg0"><mapper:value>"Approve proposal for request #"</mapper:value></mapper:vertice><mapper:vertice id="1263609827" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId" targetedBy="2010464815-arg1"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$PDFTaskRequest1Msg.inputParams/ns0:pdfMetaData/ns0:fileName</bpel:from>
                                                        <bpel:to>$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Attachments/EmailActivityWSDL:Attachment/EmailActivityWSDL:fileName</bpel:to><mapper:mapperLink><mapper:vertice id="876943612" targetPath="$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Attachments/EmailActivityWSDL:Attachment/EmailActivityWSDL:fileName" targetedBy="283950716-arg0"></mapper:vertice><mapper:vertice id="283950716" sourcePath="$PDFTaskRequest1Msg.inputParams/ns0:pdfMetaData/ns0:fileName"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$PDFTaskResponse1Msg.pdfAccessUrl</bpel:from>
                                                        <bpel:to>$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Attachments/EmailActivityWSDL:Attachment/EmailActivityWSDL:filePath</bpel:to><mapper:mapperLink><mapper:vertice id="225959802" targetPath="$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Attachments/EmailActivityWSDL:Attachment/EmailActivityWSDL:filePath" targetedBy="577218835-arg0"></mapper:vertice><mapper:vertice id="577218835" sourcePath="$PDFTaskResponse1Msg.pdfAccessUrl"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>ode:do-template-transform-string("../../templates/proposal_email.vm", $emailvariables)</bpel:from>
                                                        <bpel:to>$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Body</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="408902751" targetPath="$emailActivityWSDLSendRequest1Msg.InputParameters/EmailActivityWSDL:Body" targetedBy="1548832270-arg2"></mapper:vertice>
  <mapper:vertice id="1548832270" dimension="197x24" location="418,300">
    <mapper:value>ode:do-template-transform-string()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="928133538" dimension="197x24" location="188,257" targetedBy="1548832270-arg0">
    <mapper:value>"../../templates/proposal_email.vm"</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1481788058" sourcePath="$emailvariables" targetedBy="1548832270-arg1"></mapper:vertice>
</mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="emailActivityWSDLSendRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="EmailActivityWSDL:sendRequest" bpdm:binding="EmailActivityWSDL:EmailWSSOAP11Binding" bpdm:ID="_KgCOcLy5Eea8DveVMuPLZgOutgoing"></bpdm:linkset>
                                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="emailActivityWSDLSendResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="EmailActivityWSDL:sendResponse" bpdm:binding="EmailActivityWSDL:EmailWSSOAP11Binding" bpdm:ID="_KgCOcLy5Eea8DveVMuPLZgIncoming"></bpdm:linkset>
                                                <bpdm:thrownFault msgFaultNcName="emailFault" msgFaultTypeQname="EmailActivityWSDL:emailFault"/>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_Igvw4LyxEeaEvIAxHAjZ3A">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="25285426" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="74137947-arg0"></mapper:vertice><mapper:vertice id="74137947" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>"Waiting for approval"</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="1343455965" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1417158644-arg0"></mapper:vertice><mapper:vertice id="1417158644" dimension="126x24" location="502,194"><mapper:value>"Waiting for approval"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>current-dateTime()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:approval_requested_on</bpel:to><mapper:mapperLink><mapper:vertice id="1974058468" targetPath="$BTS_Request/BTS_metrics:approval_requested_on" targetedBy="731445694-arg0"></mapper:vertice><mapper:vertice id="731445694" dimension="109x24" location="515,286"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask operation="Get_customer_decision" partnerLink="bTsAndClientPlkVar" portType="this:ForClient" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Get customer decision" bpdm:ID="_CsEcgLyxEeaEvIAxHAjZ3A">
                                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisGet_customer_decisionRequest1Msg" bpdm:msgVarScopeId="_LuF2oLyxEeaEvIAxHAjZ3A" bpdm:variableIsManaged="true" bpdm:messageType="this:Get_customer_decisionRequest" bpdm:ID="_CrOp8L2sEeaXDrw_F1y5qw">
                                                    <bpel:correlation set="bts_correlation_set" initiate="join" pattern="response" bpdm:isSource="false"></bpel:correlation>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$ode:pid</bpel:from>
                                                        <bpel:to>$thisGet_customer_decisionResponse2Msg.body/BTS:ACK/BTS:Pid</bpel:to><mapper:mapperLink><mapper:vertice id="1934107189" targetPath="$thisGet_customer_decisionResponse2Msg.body/BTS:ACK/BTS:Pid" targetedBy="1761784618-arg0"></mapper:vertice><mapper:vertice id="1761784618" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>current-dateTime()</bpel:from>
                                                        <bpel:to>$thisGet_customer_decisionResponse2Msg.body/BTS:ACK/BTS:Timestamp</bpel:to><mapper:mapperLink><mapper:vertice id="1023868355" targetPath="$thisGet_customer_decisionResponse2Msg.body/BTS:ACK/BTS:Timestamp" targetedBy="681822912-arg0"></mapper:vertice><mapper:vertice id="681822912" dimension="109x24" location="454,115"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$thisGet_customer_decisionResponse2Msg.body/BTS:RequestId</bpel:to><mapper:mapperLink><mapper:vertice id="458540187" targetPath="$thisGet_customer_decisionResponse2Msg.body/BTS:RequestId" targetedBy="348924576-arg0"></mapper:vertice><mapper:vertice id="348924576" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisGet_customer_decisionResponse2Msg" bpdm:msgVarScopeId="_LuF2oLyxEeaEvIAxHAjZ3A" bpdm:variableIsManaged="true" bpdm:messageType="this:Get_customer_decisionResponse" bpdm:ID="_Ec7REL2sEeaXDrw_F1y5qw"></bpdm:linkset>
                                            </bpdm:messagingtask>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_SEcUsLyxEeaEvIAxHAjZ3A">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1434701168" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1884689842-arg0"></mapper:vertice><mapper:vertice id="1884689842" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$thisGet_customer_decisionRequest1Msg.body/BTS:approved</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Approved</bpel:to><mapper:mapperLink><mapper:vertice id="1744353445" targetPath="$BTS_Request/BTS_metrics:Approved" targetedBy="2043128048-arg0"></mapper:vertice><mapper:vertice id="2043128048" sourcePath="$thisGet_customer_decisionRequest1Msg.body/BTS:approved"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>current-dateTime()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:approval_received_on</bpel:to><mapper:mapperLink><mapper:vertice id="1054026042" targetPath="$BTS_Request/BTS_metrics:approval_received_on" targetedBy="1136773702-arg0"></mapper:vertice><mapper:vertice id="1136773702" dimension="109x24" location="301,500"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$thisGet_customer_decisionRequest1Msg.body/BTS:approved</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:Approved</bpel:to><mapper:mapperLink><mapper:vertice id="2031272195" targetPath="$RequestOperation/BTS:Approved" targetedBy="1365204774-arg0"></mapper:vertice><mapper:vertice id="1365204774" sourcePath="$thisGet_customer_decisionRequest1Msg.body/BTS:approved"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>"Approval received"</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1688670952" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="811324030-arg0"></mapper:vertice>
  <mapper:vertice id="811324030" dimension="113x24" location="404,319">
    <mapper:value>"Approval received"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_Jq86MLyxEeaEvIAxHAjZ3A">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>false()</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:ApprovalNeeded</bpel:to><mapper:mapperLink><mapper:vertice id="1633340669" targetPath="$RequestOperation/BTS:ApprovalNeeded" targetedBy="1724625560-arg0"></mapper:vertice><mapper:vertice id="1724625560" dimension="79x24" location="351,108"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>true()</bpel:from>
                                                        <bpel:to>$RequestOperation/BTS:Approved</bpel:to><mapper:mapperLink><mapper:vertice id="1382643277" targetPath="$RequestOperation/BTS:Approved" targetedBy="575857969-arg0"></mapper:vertice><mapper:vertice id="575857969" dimension="79x24" location="347,185"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="412579007" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="710335547-arg0"></mapper:vertice><mapper:vertice id="710335547" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>false()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:ApprovalNeeded</bpel:to><mapper:mapperLink><mapper:vertice id="2139234658" targetPath="$BTS_Request/BTS_metrics:ApprovalNeeded" targetedBy="1496639527-arg0"></mapper:vertice><mapper:vertice id="1496639527" dimension="79x24" location="323,268"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                    <bpel:copy>
                                                        <bpel:from>true()</bpel:from>
                                                        <bpel:to>$BTS_Request/BTS_metrics:Approved</bpel:to><mapper:mapperLink><mapper:vertice id="2005700603" targetPath="$BTS_Request/BTS_metrics:Approved" targetedBy="671513523-arg0"></mapper:vertice><mapper:vertice id="671513523" dimension="79x24" location="338,313"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                </bpel:sequence>
                            </bpel:scope>
                            <bpdm:gateway bpdm:label="Approved?" bpdm:ID="_EYvqOLdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EYvqOrdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Yes">
                                    <bpel:condition>true() = $RequestOperation/BTS:Approved<mapper:mapperLink><mapper:vertice id="241829930" targetPath="$condition" targetedBy="2119468430-arg2"></mapper:vertice><mapper:vertice id="2119468430" dimension="79x24" location="421,68"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="796455383" dimension="79x24" location="293,26" targetedBy="2119468430-arg0"><mapper:value>true()</mapper:value></mapper:vertice><mapper:vertice id="1882898750" sourcePath="$RequestOperation/BTS:Approved" targetedBy="2119468430-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EYvqO7dEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                <bpel:sequence>
                                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_EYvqPLdEEeaCaYmVKR7BjA"></bpdm:messagingtask>
                                    <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EYvqLrdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                    <bpdm:gateway bpdm:label="Parallel_Gateway" bpdm:ID="_EYvqQbdEEeaCaYmVKR7BjA" bpdm:gatewayType="parallel_and" bpdm:isMerge="false">
                                        <bpel:sequence>
                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Notify Requester" bpdm:ID="_EY5a4LdEEeaCaYmVKR7BjA"></bpdm:messagingtask>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpdm:gateway bpdm:label="Booking or inquiry" bpdm:ID="_EY5a_rdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EY5bALdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Booking">
                                                    <bpel:condition>ode:get-property-value("booking_key") = $RequestOperation/BTS:Request/BTS:Information/BTS:RequestType<mapper:mapperLink><mapper:vertice id="1066208084" targetPath="$condition" targetedBy="1309285794-arg2"></mapper:vertice><mapper:vertice id="1309285794" dimension="79x24" location="573,74"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="621831607" dimension="139x24" location="389,57" targetedBy="1309285794-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="1006230458" dimension="85x24" location="211,35" targetedBy="621831607-arg0"><mapper:value>"booking_key"</mapper:value></mapper:vertice><mapper:vertice id="2116355827" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:RequestType" targetedBy="1309285794-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                </bpdm:linkset>
                                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EY5bAbdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                <bpel:sequence>
                                                    <bpdm:gateway bpdm:label="Client" bpdm:ID="_EY5bArdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EY5a6rdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Entertainment">
                                                            <bpel:condition>ode:get-property-value("entertainment_key") = $RequestOperation/BTS:Request/BTS:Information/BTS:EventType<mapper:mapperLink><mapper:vertice id="906986447" targetPath="$condition" targetedBy="449680470-arg2"></mapper:vertice><mapper:vertice id="449680470" dimension="79x24" location="530,70"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="562303280" dimension="139x24" location="347,44" targetedBy="449680470-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="353026607" dimension="116x24" location="150,27" targetedBy="562303280-arg0"><mapper:value>"entertainment_key"</mapper:value></mapper:vertice><mapper:vertice id="205946601" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType" targetedBy="449680470-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                        </bpdm:linkset>
                                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EY5a8bdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                        <bpel:sequence>
                                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Book on feeds" bpdm:ID="_EY5a6LdEEeaCaYmVKR7BjA">
                                                                <bpdm:linkset bpdm:type="assignments">
                                                                    <bpel:copy>
                                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="504187162" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="916724692-arg0"></mapper:vertice>
  <mapper:vertice id="916724692" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                    <bpel:copy>
                                                                        <bpel:from>"Booked on feeds"</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="780452353" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="34649362-arg0"></mapper:vertice>
  <mapper:vertice id="34649362" dimension="106x24" location="395,125">
    <mapper:value>"Booked on feeds"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                </bpdm:linkset>
                                                            </bpdm:messagingtask>
                                                        </bpel:sequence>
                                                        <bpel:sequence>
                                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Book on Schedule ALL" bpdm:ID="_EY5a77dEEeaCaYmVKR7BjA">
                                                                <bpdm:linkset bpdm:type="assignments">
                                                                    <bpel:copy>
                                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="900559158" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="202381631-arg0"></mapper:vertice>
  <mapper:vertice id="202381631" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                    <bpel:copy>
                                                                        <bpel:from>"Booked on scheduleAll"</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="2113224216" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="2015519856-arg0"></mapper:vertice>
  <mapper:vertice id="2015519856" dimension="139x24" location="440,169">
    <mapper:value>"Booked on scheduleAll"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                </bpdm:linkset>
                                                            </bpdm:messagingtask>
                                                        </bpel:sequence>
                                                    </bpdm:gateway>
                                                    <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EY5a7LdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                                </bpel:sequence>
                                                <bpel:sequence>
                                                    <bpdm:gateway bpdm:label="Client" bpdm:ID="_EY5bBLdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_EY5a9LdEEeaCaYmVKR7BjA" bpdm:targetDisplayName="Entertainment">
                                                            <bpel:condition>ode:get-property-value("entertainment_key") = $RequestOperation/BTS:Request/BTS:Information/BTS:EventType<mapper:mapperLink><mapper:vertice id="1873214420" targetPath="$condition" targetedBy="1980713009-arg2"></mapper:vertice><mapper:vertice id="1980713009" dimension="79x24" location="515,72"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="409483119" dimension="139x24" location="356,61" targetedBy="1980713009-arg0"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="1540834908" dimension="116x24" location="190,35" targetedBy="409483119-arg0"><mapper:value>"entertainment_key"</mapper:value></mapper:vertice><mapper:vertice id="1435699528" sourcePath="$RequestOperation/BTS:Request/BTS:Information/BTS:EventType" targetedBy="1980713009-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                                        </bpdm:linkset>
                                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_EY5a-7dEEeaCaYmVKR7BjA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                                        <bpel:sequence>
                                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Hold on Feeds" bpdm:ID="_EY5a8rdEEeaCaYmVKR7BjA">
                                                                <bpdm:linkset bpdm:type="assignments">
                                                                    <bpel:copy>
                                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="494834521" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1680850364-arg0"></mapper:vertice>
  <mapper:vertice id="1680850364" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                    <bpel:copy>
                                                                        <bpel:from>"Hold on feeds"</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="431056831" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1067814414-arg0"></mapper:vertice>
  <mapper:vertice id="1067814414" dimension="92x24" location="467,122">
    <mapper:value>"Hold on feeds"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                </bpdm:linkset>
                                                            </bpdm:messagingtask>
                                                        </bpel:sequence>
                                                        <bpel:sequence>
                                                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Hold on ScheduleAll" bpdm:ID="_EY5a-bdEEeaCaYmVKR7BjA">
                                                                <bpdm:linkset bpdm:type="assignments">
                                                                    <bpel:copy>
                                                                        <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="722454900" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="380989314-arg0"></mapper:vertice>
  <mapper:vertice id="380989314" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                    <bpel:copy>
                                                                        <bpel:from>"Hold on scheduleAll"</bpel:from>
                                                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1678113084" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="960792043-arg0"></mapper:vertice>
  <mapper:vertice id="960792043" dimension="125x24" location="396,161">
    <mapper:value>"Hold on scheduleAll"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                                                    </bpel:copy>
                                                                </bpdm:linkset>
                                                            </bpdm:messagingtask>
                                                        </bpel:sequence>
                                                    </bpdm:gateway>
                                                    <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_EY5a9rdEEeaCaYmVKR7BjA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                                </bpel:sequence>
                                            </bpdm:gateway>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                    <bpdm:messagingtask eventType="end: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="End" bpdm:ID="_EY5a_LdEEeaCaYmVKR7BjA"></bpdm:messagingtask>
                                </bpel:sequence>
                                <bpel:sequence>
                                    <bpdm:messagingtask eventType="end: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="End rejected" bpdm:ID="_EYvqP7dEEeaCaYmVKR7BjA">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$RequestOperation/BTS:Request/BTS:RequestId</bpel:from>
                                                <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to><mapper:mapperLink><mapper:vertice id="1356477897" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="173455104-arg0"></mapper:vertice><mapper:vertice id="173455104" sourcePath="$RequestOperation/BTS:Request/BTS:RequestId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>"Rejected"</bpel:from>
                                                <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to><mapper:mapperLink><mapper:vertice id="2028997948" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1730590280-arg0"></mapper:vertice><mapper:vertice id="1730590280" dimension="79x24" location="385,201"><mapper:value>"Rejected"</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                </bpel:sequence>
                            </bpdm:gateway>
                        </bpel:sequence>
                    </bpdm:gateway>
                </bpel:sequence>
                <bpel:sequence>
                    <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Inquiry release" bpdm:ID="_BGytoLs5Eeash72vczxLlw">
                        <bpel:variables>
                            <bpel:variable name="thisReceive_requestResponse3Msg" messageType="this:Receive_requestResponse" bpdm:id="_ylGj0r2_EeaXDrw_F1y5qw" bpdm:messageIds=" out:_ylGj0L2_EeaXDrw_F1y5qw">
                                <bpel:from bpdm:toPart="body">
                                    <bpel:literal bpdm:linkedMessageType="this:Receive_requestResponse" bpdm:linkedPart="body"></bpel:literal>
                                </bpel:from>
                            </bpel:variable>
                        </bpel:variables>
                        <bpel:sequence>
                            <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Release inquiry" bpdm:ID="_87nEoL2_EeaXDrw_F1y5qw">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/BTS:RequestId</bpel:from>
                                        <bpel:to>$BTS_Request/BTS_metrics:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1262707963" targetPath="$BTS_Request/BTS_metrics:RequestID" targetedBy="1276906825-arg0"></mapper:vertice>
  <mapper:vertice id="1276906825" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>"Released"</bpel:from>
                                        <bpel:to>$BTS_Request/BTS_metrics:Status</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1408386149" targetPath="$BTS_Request/BTS_metrics:Status" targetedBy="1577936706-arg0"></mapper:vertice>
  <mapper:vertice id="1577936706" dimension="79x24" location="615,163">
    <mapper:value>"Released"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="intermediate: message" operation="Receive_request" partnerLink="bTsAndClientPlkVar" portType="this:ForClient" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Reply" bpdm:ID="_EYvp8rdEEeaCaYmVKR7BjA">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$ode:pid</bpel:from>
                                        <bpel:to>$thisReceive_requestResponse3Msg.body/BTS:ACK/BTS:Pid</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="768581294" targetPath="$thisReceive_requestResponse3Msg.body/BTS:ACK/BTS:Pid" targetedBy="691229042-arg0"></mapper:vertice>
  <mapper:vertice id="691229042" sourcePath="$ode:pid"></mapper:vertice>
</mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>current-dateTime()</bpel:from>
                                        <bpel:to>$thisReceive_requestResponse3Msg.body/BTS:ACK/BTS:Timestamp</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="345520314" targetPath="$thisReceive_requestResponse3Msg.body/BTS:ACK/BTS:Timestamp" targetedBy="899504312-arg0"></mapper:vertice>
  <mapper:vertice id="899504312" dimension="109x24" location="428,147">
    <mapper:value>current-dateTime()</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/BTS:RequestId</bpel:from>
                                        <bpel:to>$thisReceive_requestResponse3Msg.body/BTS:RequestId</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1270822937" targetPath="$thisReceive_requestResponse3Msg.body/BTS:RequestId" targetedBy="193293126-arg0"></mapper:vertice>
  <mapper:vertice id="193293126" sourcePath="$thisReceive_requestRequest2Msg.body/BTS:RequestId"></mapper:vertice>
</mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_requestResponse3Msg" bpdm:msgVarScopeId="_BGytoLs5Eeash72vczxLlw" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_requestResponse" bpdm:ID="_ylGj0L2_EeaXDrw_F1y5qw"></bpdm:linkset>
                            </bpdm:messagingtask>
                        </bpel:sequence>
                    </bpel:scope>
                </bpel:sequence>
            </bpdm:gateway>
        </bpel:sequence>
    </bpel:scope>
</bpel:process>