<bpel:process xmlns:bpdm="http://www.intalio/designer/business-process-data-modeling" xmlns:mapper="http://www.intalio.com/designer/mapper" xmlns:this="http://thisdiagram/HSAN_Coordinator" xmlns:tns="http://everteam.com/xvar/example" xmlns:BTS="http://thisdiagram/BTS" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:attachments="http://www.intalio.com/gi/Forms/ManualHSANInquiry.gi/attachments" xmlns:HSAN_CoordinatorimplicitPartner="http://thisdiagram/HSAN_CoordinatorimplicitPartner" xmlns:BTS1="http://www.example.org/BTS" xmlns:Provider="http://mockproviderservice.com/NewDiagram/service" xmlns:ContentTransmissionBooking="http://thisdiagram" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:ProviderSchema="http://www.example.org/ProviderSchema" xmlns:ns="urn:intalio.com:connectors:database:bts:get_hsan_providersservice" xmlns:ManualHSANInquiry="http://www.intalio.com/gi/Forms/ManualHSANInquiry.gi" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:ode="http://www.apache.org/ode/type/extension" targetNamespace="http://thisdiagram/HSAN_Coordinator">
    <bpdm:dependencies version="6000089">
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/HSAN_Coordinator" bpdm:prefix="this" bpdm:type="this_process"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://everteam.com/xvar/example" bpdm:prefix="tns" bpdm:comment="contrib=&apos;project:///IntalioObjects/customVariable.xvar"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/BTS" bpdm:prefix="BTS" bpdm:comment="contrib=&apos;partner-pool:///_EYvp67dEEeaCaYmVKR7BjA"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema-instance" bpdm:prefix="xsi"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/Forms/ManualHSANInquiry.gi/attachments" bpdm:prefix="attachments" bpdm:comment="contrib=&apos;project:///Forms/ManualHSANInquiry.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/HSAN_CoordinatorimplicitPartner" bpdm:prefix="HSAN_CoordinatorimplicitPartner" bpdm:comment="contrib=&apos;partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0gimplicitPartner"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.example.org/BTS" bpdm:prefix="BTS1" bpdm:comment="contrib=&apos;project:///Schemas/BTS.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://mockproviderservice.com/NewDiagram/service" bpdm:prefix="Provider" bpdm:comment="contrib=&apos;project:///Services/SOAP/Provider.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram" bpdm:prefix="ContentTransmissionBooking" bpdm:comment="contrib=&apos;partner-pool:///_EYvp67dEEeaCaYmVKR7BjA"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema" bpdm:prefix="xs"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.example.org/ProviderSchema" bpdm:prefix="ProviderSchema" bpdm:comment="contrib=&apos;project:///Services/SOAP/ProviderSchema.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="urn:intalio.com:connectors:database:bts:get_hsan_providersservice" bpdm:prefix="ns" bpdm:comment="contrib=&apos;project:///Connectors/Database/get_hsan_providers.sql/get_hsan_providers.sql.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/gi/Forms/ManualHSANInquiry.gi" bpdm:prefix="ManualHSANInquiry" bpdm:comment="contrib=&apos;project:///Forms/ManualHSANInquiry.gi.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/XML/1998/namespace" bpdm:prefix="xml"></bpdm:namespaceDefinition>
        <bpdm:namespaceContributor bpdm:url="thisprocess://this-process-types" bpdm:label="process defined this-process-types">
            <wsdl:portType name="ForBTS">
                <wsdl:operation name="Receive_hsan_inquiry" bpdm:source="partner-pool:///_EYvp67dEEeaCaYmVKR7BjA">
                    <wsdl:input message="this:Receive_hsan_inquiryRequest" name="Receive_hsan_inquiry"/>
                    <wsdl:output message="this:Receive_hsan_inquiryResponse" name="Receive_hsan_inquiryResponse"/>
                </wsdl:operation>
            </wsdl:portType>
            <bpel:binding name="CanonicBindingForBTS" type="this:ForBTS" bpdm:isSynchronized="true"/>
            <vprop:property name="reqID" type="xs:string"/>
            <xs:element name="Receive_hsan_inquiryRequest" type="BTS1:RequestType" bpdm:source="partner-pool:///_EYvp67dEEeaCaYmVKR7BjA"/>
            <wsdl:message name="Receive_hsan_inquiryRequest" bpdm:source="partner-pool:///_EYvp67dEEeaCaYmVKR7BjA">
                <wsdl:part name="body" element="this:Receive_hsan_inquiryRequest"/>
            </wsdl:message>
            <xs:element name="Receive_hsan_inquiryResponse" type="BTS1:ACKType" bpdm:source="partner-pool:///_EYvp67dEEeaCaYmVKR7BjA"/>
            <wsdl:message name="Receive_hsan_inquiryResponse" bpdm:source="partner-pool:///_EYvp67dEEeaCaYmVKR7BjA">
                <wsdl:part name="body" element="this:Receive_hsan_inquiryResponse"/>
            </wsdl:message>
            <vprop:propertyAlias propertyName="this:reqID" messageType="BTS:Receive__HSAN_CostRequest" part="body">
                <vprop:query>BTS1:RequestID/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:reqID" messageType="this:Receive_hsan_inquiryRequest" part="body">
                <vprop:query>BTS1:RequestId/text()</vprop:query>
            </vprop:propertyAlias>
        </bpdm:namespaceContributor>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_EYvp67dEEeaCaYmVKR7BjA" bpdm:label="BTS"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_SkCw0Lr7EeaNtrdCjMGf0gimplicitPartner" bpdm:label="HSAN CoordinatorimplicitPartner"/>
        <bpdm:namespaceContributor bpdm:url="project:///Schemas/BTS.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///Forms/ManualHSANInquiry.gi.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Services/SOAP/Provider.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Services/SOAP/ProviderSchema.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///Connectors/Database/get_hsan_providers.sql/get_hsan_providers.sql.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Connectors/Database/get_hsan_providers.sql/get_hsan_providers.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/customVariable.xvar"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/customVariable.xvar.xsd"/>
    </bpdm:dependencies>
    <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="HSAN Coordinator" bpdm:ID="_SkCw0Lr7EeaNtrdCjMGf0g">
        <bpel:partnerLinks>
            <bpel:partnerLink name="hSAN_CoordinatorAndBTSPlkVar" partnerLinkType="ContentTransmissionBooking:HSAN_CoordinatorAndBTS" initializePartnerRole="yes" myRole="HSAN_Coordinator_for_BTS" bpdm:enableSharing="false" bpdm:providedService="this:CanonicServiceForBTS" bpdm:providedPort="canonicPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/HSAN_Coordinator/BTS" bpdm:providedIsDefault="true" partnerRole="BTS_for_HSAN_Coordinator" bpdm:invokedService="BTS:CanonicServiceForHSAN_Coordinator" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/BTS/HSAN_Coordinator" bpdm:invokedIsDefault="true" bpdm:clientTasks="_SkCw0Lr7EeaNtrdCjMGf0g:_MIFkkLr8EeaNtrdCjMGf0g, _SkCw0Lr7EeaNtrdCjMGf0g:_I1a58Lr8EeaNtrdCjMGf0g" bpdm:isManaged="true" bpdm:otherPoolId="_EYvp67dEEeaCaYmVKR7BjA"/>
            <bpel:partnerLink name="hSAN_CoordinatorimplicitPartnerAndHSAN_CoordinatorForGet_hsan_providersPortPlkVar" partnerLinkType="ContentTransmissionBooking:HSAN_CoordinatorimplicitPartnerAndHSAN_CoordinatorForGet_hsan_providersPortPlk" initializePartnerRole="yes" partnerRole="HSAN_CoordinatorimplicitPartner_for_HSAN_Coordinator" bpdm:invokedService="ns:get_hsan_providersService" bpdm:invokedPort="get_hsan_providersPort" bpdm:invokedSOAPAddress="http://ubuntu.estebanf.com:8080/everteam/ode/processes/BTS/Connectors/Database/get_hsan_providers" bpdm:invokedIsDefault="true" bpdm:clientTasks="_SkCw0Lr7EeaNtrdCjMGf0g:_MsxJgLr9EeaNtrdCjMGf0g" bpdm:isManaged="true" bpdm:otherPoolId="_SkCw0Lr7EeaNtrdCjMGf0gimplicitPartner"/>
            <bpel:partnerLink name="wFmagic_xuMNwLr9EeaNtrdCjMGf0gPlkVar" partnerLinkType="ContentTransmissionBooking:WFmagic_xuMNwLr9EeaNtrdCjMGf0g" initializePartnerRole="no" myRole="HSAN_CoordinatorForManualHSAN_for_HSAN_CoordinatorimplicitPartnerForThePortTypeProcess" bpdm:enableSharing="false" bpdm:providedService="this:WFmagic_xuMNwLr9EeaNtrdCjMGf0gService" bpdm:providedPort="HSAN_CoordinatorForManualHSAN_for_HSAN_CoordinatorimplicitPartnerForThePortTypeProcessPort" bpdm:providedIsDefault="true" partnerRole="HSAN_CoordinatorimplicitPartner_for_HSAN_CoordinatorForManualHSANInquiryPort" bpdm:invokedService="ManualHSANInquiry:WorkflowSoapService" bpdm:invokedPort="ManualHSANInquiryPort" bpdm:invokedSOAPAddress="http://ubuntu.estebanf.com:8080/fds/workflow/ManualHSANInquiry" bpdm:invokedIsDefault="true" bpdm:clientTasks="_SkCw0Lr7EeaNtrdCjMGf0g:_xuMNwLr9EeaNtrdCjMGf0g" bpdm:isManaged="true" bpdm:otherPoolId="_SkCw0Lr7EeaNtrdCjMGf0gimplicitPartner"/>
            <bpel:partnerLink name="hSAN_CoordinatorimplicitPartnerAndHSAN_CoordinatorForCanonicPortPlkVar" partnerLinkType="ContentTransmissionBooking:HSAN_CoordinatorimplicitPartnerAndHSAN_CoordinatorForCanonicPortPlk" initializePartnerRole="yes" partnerRole="HSAN_CoordinatorimplicitPartner_for_HSAN_Coordinator" bpdm:invokedService="Provider:CanonicServiceForBTS" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="Provider/" bpdm:invokedIsDefault="true" bpdm:clientTasks="_SkCw0Lr7EeaNtrdCjMGf0g:_vZCUQLr9EeaNtrdCjMGf0g" bpdm:isManaged="true" bpdm:otherPoolId="_SkCw0Lr7EeaNtrdCjMGf0gimplicitPartner"/>
        </bpel:partnerLinks>
        <bpel:correlationSets>
            <bpel:correlationSet name="HSANCorrelationSet" properties="this:reqID"/>
        </bpel:correlationSets>
        <bpel:variables xmlns:xvar="http://ode.apache.org/externalVariables">
            <bpel:variable name="bTSReceive__HSAN_CostRequest1Msg" messageType="BTS:Receive__HSAN_CostRequest" bpdm:id="_NsR7Obr8EeaNtrdCjMGf0g" bpdm:messageIds=" out:_NsJ_YLr8EeaNtrdCjMGf0g">
                <bpel:from bpdm:toPart="body">
                    <bpel:literal bpdm:linkedMessageType="BTS:Receive__HSAN_CostRequest" bpdm:linkedPart="body"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="customVariable" element="tns:customVariable" xvar:id="customVariable-_EUeB0br9EeaNtrdCjMGf0g" xvar:relates-to="customVariable-keys" bpdm:xvarType="tns:customVariable" bpdm:id="_EUeB0br9EeaNtrdCjMGf0g"/>
            <bpel:variable name="thisReceive_hsan_inquiryRequest1Msg" messageType="this:Receive_hsan_inquiryRequest" bpdm:id="_FHR-17r9EeaNtrdCjMGf0g" bpdm:messageIds="inc:_FG-c0Lr9EeaNtrdCjMGf0g"/>
            <bpel:variable name="thisReceive_hsan_inquiryResponse2Msg" messageType="this:Receive_hsan_inquiryResponse" bpdm:id="_FfkjCbr9EeaNtrdCjMGf0g" bpdm:messageIds=" out:_FfayALr9EeaNtrdCjMGf0g">
                <bpel:from bpdm:toPart="body">
                    <bpel:literal bpdm:linkedMessageType="this:Receive_hsan_inquiryResponse" bpdm:linkedPart="body"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="bTSReceive__HSAN_CostResponse2Msg" messageType="BTS:Receive__HSAN_CostResponse" bpdm:id="_5H5mR7r9EeaNtrdCjMGf0g" bpdm:messageIds="inc:_5HTwYLr9EeaNtrdCjMGf0g"/>
            <bpel:variable name="nsGet_hsan_providersResponse1Msg" messageType="ns:get_hsan_providersOutput" binding="ns:get_hsan_providersPortSoapBinding" operation="get_hsan_providers" opMsgType="1" bpdm:messageIds="inc:_MsxJgLr9EeaNtrdCjMGf0gIncoming"/>
            <bpel:variable name="nsGet_hsan_providersRequest1Msg" messageType="ns:get_hsan_providersInput" binding="ns:get_hsan_providersPortSoapBinding" operation="get_hsan_providers" opMsgType="0" bpdm:messageIds=" out:_MsxJgLr9EeaNtrdCjMGf0gOutgoing">
                <bpel:from bpdm:toPart="parameters">
                    <bpel:literal bpdm:linkedMessageType="ns:get_hsan_providersInput" bpdm:linkedPart="parameters" bpdm:binding="ns:get_hsan_providersPortSoapBinding" bpdm:opMsgType="0" bpdm:operation="get_hsan_providers"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="manualHSANInquiryCreateTaskSingleActivityResponse1Msg" messageType="ManualHSANInquiry:createTaskSingleActivityResponse" binding="ManualHSANInquiry:WorkflowSoapBinding" operation="createTaskSingleActivity" opMsgType="1" bpdm:messageIds="inc:_xuMNwLr9EeaNtrdCjMGf0gIncoming"/>
            <bpel:variable name="manualHSANInquiryCreateTaskSingleActivityRequest1Msg" messageType="ManualHSANInquiry:createTaskSingleActivityRequest" binding="ManualHSANInquiry:WorkflowSoapBinding" operation="createTaskSingleActivity" opMsgType="0" bpdm:messageIds=" out:_xuMNwLr9EeaNtrdCjMGf0gOutgoing">
                <bpel:from bpdm:toPart="root">
                    <bpel:literal bpdm:linkedMessageType="ManualHSANInquiry:createTaskSingleActivityRequest" bpdm:linkedPart="root" bpdm:binding="ManualHSANInquiry:WorkflowSoapBinding" bpdm:opMsgType="0" bpdm:operation="createTaskSingleActivity"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="providerGet_HSAN_CostResponse1Msg" messageType="Provider:Get_HSAN_CostResponse" binding="Provider:CanonicBindingForBTS" operation="Get_HSAN_Cost" opMsgType="1" bpdm:messageIds="inc:_vZCUQLr9EeaNtrdCjMGf0gIncoming"/>
            <bpel:variable name="providerGet_HSAN_Cost1Msg" messageType="Provider:Get_HSAN_CostRequest" binding="Provider:CanonicBindingForBTS" operation="Get_HSAN_Cost" opMsgType="0" bpdm:messageIds=" out:_vZCUQLr9EeaNtrdCjMGf0gOutgoing">
                <bpel:from bpdm:toPart="body">
                    <bpel:literal bpdm:linkedMessageType="Provider:Get_HSAN_CostRequest" bpdm:linkedPart="body" bpdm:binding="Provider:CanonicBindingForBTS" bpdm:opMsgType="0" bpdm:operation="Get_HSAN_Cost"></bpel:literal>
                </bpel:from>
            </bpel:variable>
        </bpel:variables>
        <bpel:sequence>
            <bpdm:messagingtask eventType="start: message" operation="Receive_hsan_inquiry" partnerLink="hSAN_CoordinatorAndBTSPlkVar" portType="this:ForBTS" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Receive hsan inquiry" bpdm:ID="_I1a58Lr8EeaNtrdCjMGf0g">
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisReceive_hsan_inquiryRequest1Msg" bpdm:msgVarScopeId="_SkCw0Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_hsan_inquiryRequest" bpdm:ID="_FG-c0Lr9EeaNtrdCjMGf0g">
                    <bpel:correlation set="HSANCorrelationSet" initiate="join" pattern="response"></bpel:correlation>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>$ode:pid</bpel:from>
                        <bpel:to>$thisReceive_hsan_inquiryResponse2Msg.body/BTS1:Pid</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1344593162" targetPath="$thisReceive_hsan_inquiryResponse2Msg.body/BTS1:Pid" targetedBy="335548238-arg0"></mapper:vertice>
  <mapper:vertice id="335548238" sourcePath="$ode:pid"></mapper:vertice>
</mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>current-dateTime()</bpel:from>
                        <bpel:to>$thisReceive_hsan_inquiryResponse2Msg.body/BTS1:Timestamp</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1368417801" targetPath="$thisReceive_hsan_inquiryResponse2Msg.body/BTS1:Timestamp" targetedBy="449201681-arg0"></mapper:vertice>
  <mapper:vertice id="449201681" dimension="109x24" location="534,79">
    <mapper:value>current-dateTime()</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_hsan_inquiryResponse2Msg" bpdm:msgVarScopeId="_SkCw0Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_hsan_inquiryResponse" bpdm:ID="_FfayALr9EeaNtrdCjMGf0g"></bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:messagingtask operation="get_hsan_providers" partnerLink="hSAN_CoordinatorimplicitPartnerAndHSAN_CoordinatorForGet_hsan_providersPortPlkVar" portType="ns:get_hsan_providersPort" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Get HSAN Provider" bpdm:ID="_MsxJgLr9EeaNtrdCjMGf0g">
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:Information/BTS1:Location</bpel:from>
                        <bpel:to>$nsGet_hsan_providersRequest1Msg.parameters/ns:execute/ns:parameters/ns:Location</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="623115150" targetPath="$nsGet_hsan_providersRequest1Msg.parameters/ns:execute/ns:parameters/ns:Location" targetedBy="478950123-arg0"></mapper:vertice>
  <mapper:vertice id="478950123" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:Information/BTS1:Location"></mapper:vertice>
</mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="nsGet_hsan_providersRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ns:get_hsan_providersInput" bpdm:binding="ns:get_hsan_providersPortSoapBinding" bpdm:ID="_MsxJgLr9EeaNtrdCjMGf0gOutgoing"></bpdm:linkset>
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="nsGet_hsan_providersResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ns:get_hsan_providersOutput" bpdm:binding="ns:get_hsan_providersPortSoapBinding" bpdm:ID="_MsxJgLr9EeaNtrdCjMGf0gIncoming"></bpdm:linkset>
                <bpdm:thrownFault msgFaultNcName="nsget_hsan_providersFault" msgFaultTypeQname="ns:get_hsan_providersFault"/>
            </bpdm:messagingtask>
            <bpdm:gateway bpdm:label="Automated provider" bpdm:ID="_uKy_gLr9EeaNtrdCjMGf0g" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_vZLeMLr9EeaNtrdCjMGf0g" bpdm:targetDisplayName="Yes">
                    <bpel:condition>count($nsGet_hsan_providersResponse1Msg.parameters/ns:rows/ns:row) &gt;= 1
<mapper:mapperLink>
  <mapper:vertice id="1720539922" targetPath="$condition" targetedBy="1710405561-arg2"></mapper:vertice>
  <mapper:vertice id="1710405561" dimension="79x24" location="475,107">
    <mapper:value>&gt;=</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1983647423" dimension="79x24" location="322,67" targetedBy="1710405561-arg0">
    <mapper:value>count()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1508830912" sourcePath="$nsGet_hsan_providersResponse1Msg.parameters/ns:rows/ns:row" targetedBy="1983647423-arg0"></mapper:vertice>
  <mapper:vertice id="1667466992" dimension="79x24" location="361,145" targetedBy="1710405561-arg1">
    <mapper:value>1</mapper:value>
  </mapper:vertice>
</mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_xuV-x7r9EeaNtrdCjMGf0g" bpdm:targetDisplayName="default"></bpdm:linkset>
                <bpel:sequence>
                    <bpdm:messagingtask operation="Get_HSAN_Cost" partnerLink="hSAN_CoordinatorimplicitPartnerAndHSAN_CoordinatorForCanonicPortPlkVar" portType="Provider:ForBTS" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Call inquiry service" bpdm:ID="_vZCUQLr9EeaNtrdCjMGf0g">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:Information/BTS1:EventDateTime</bpel:from>
                                <bpel:to>$providerGet_HSAN_Cost1Msg.body/ProviderSchema:EventDate</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="852458036" targetPath="$providerGet_HSAN_Cost1Msg.body/ProviderSchema:EventDate" targetedBy="1138457281-arg0"></mapper:vertice>
  <mapper:vertice id="1138457281" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:Information/BTS1:EventDateTime"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:Information/BTS1:EventDuration</bpel:from>
                                <bpel:to>$providerGet_HSAN_Cost1Msg.body/ProviderSchema:EventDuration</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="360788369" targetPath="$providerGet_HSAN_Cost1Msg.body/ProviderSchema:EventDuration" targetedBy="2018879893-arg0"></mapper:vertice>
  <mapper:vertice id="2018879893" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:Information/BTS1:EventDuration"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:RequestId</bpel:from>
                                <bpel:to>$providerGet_HSAN_Cost1Msg.body/ProviderSchema:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1159659406" targetPath="$providerGet_HSAN_Cost1Msg.body/ProviderSchema:RequestID" targetedBy="723065868-arg0"></mapper:vertice>
  <mapper:vertice id="723065868" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:RequestId"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>ode:get-property-value("provider_endpoint")</bpel:from>
                                <bpel:to endpointReference="partnerRole"/>
<mapper:mapperLink>
  <mapper:vertice id="1615013230" targetPath="$endpoint" targetedBy="402187715-arg1"></mapper:vertice>
  <mapper:vertice id="402187715" dimension="139x24" location="372,216">
    <mapper:value>ode:get-property-value()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1847239173" dimension="115x24" location="216,192" targetedBy="402187715-arg0">
    <mapper:value>"provider_endpoint"</mapper:value>
  </mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="providerGet_HSAN_Cost1Msg" bpdm:variableIsManaged="true" bpdm:messageType="Provider:Get_HSAN_CostRequest" bpdm:binding="Provider:CanonicBindingForBTS" bpdm:ID="_vZCUQLr9EeaNtrdCjMGf0gOutgoing"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="providerGet_HSAN_CostResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="Provider:Get_HSAN_CostResponse" bpdm:binding="Provider:CanonicBindingForBTS" bpdm:ID="_vZCUQLr9EeaNtrdCjMGf0gIncoming"></bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_7arhMLr9EeaNtrdCjMGf0g">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:RequestId</bpel:from>
                                <bpel:to>$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="645891614" targetPath="$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:RequestID" targetedBy="1075837637-arg0"></mapper:vertice>
  <mapper:vertice id="1075837637" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:RequestId"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$providerGet_HSAN_CostResponse1Msg.body/ProviderSchema:Cost</bpel:from>
                                <bpel:to>$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:HSANCost</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="949987030" targetPath="$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:HSANCost" targetedBy="472325739-arg0"></mapper:vertice>
  <mapper:vertice id="472325739" sourcePath="$providerGet_HSAN_CostResponse1Msg.body/ProviderSchema:Cost"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
                <bpel:sequence>
                    <bpdm:messagingtask operation="createTaskSingleActivity" partnerLink="wFmagic_xuMNwLr9EeaNtrdCjMGf0gPlkVar" portType="ManualHSANInquiry:Workflow" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Get cost manually" bpdm:ID="_xuMNwLr9EeaNtrdCjMGf0g">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>concat("Get HSAN Cost for Request #", $thisReceive_hsan_inquiryRequest1Msg.body/BTS1:RequestId)</bpel:from>
                                <bpel:to>$manualHSANInquiryCreateTaskSingleActivityRequest1Msg.root/ManualHSANInquiry:taskMetaData/ManualHSANInquiry:description</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1479584296" targetPath="$manualHSANInquiryCreateTaskSingleActivityRequest1Msg.root/ManualHSANInquiry:taskMetaData/ManualHSANInquiry:description" targetedBy="223198278-arg2"></mapper:vertice>
  <mapper:vertice id="223198278" dimension="79x24" location="533,77">
    <mapper:value>concat()</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="850024381" dimension="171x24" location="324,46" targetedBy="223198278-arg0">
    <mapper:value>"Get HSAN Cost for Request #"</mapper:value>
  </mapper:vertice>
  <mapper:vertice id="1922416449" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body/BTS1:RequestId" targetedBy="223198278-arg1"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$thisReceive_hsan_inquiryRequest1Msg.body</bpel:from>
                                <bpel:to>$manualHSANInquiryCreateTaskSingleActivityRequest1Msg.root/ManualHSANInquiry:taskInput/BTS1:ManualHSANInquiry/BTS1:Request</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1552450480" targetPath="$manualHSANInquiryCreateTaskSingleActivityRequest1Msg.root/ManualHSANInquiry:taskInput/BTS1:ManualHSANInquiry/BTS1:Request" targetedBy="486425753-arg0"></mapper:vertice>
  <mapper:vertice id="486425753" sourcePath="$thisReceive_hsan_inquiryRequest1Msg.body"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="manualHSANInquiryCreateTaskSingleActivityRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ManualHSANInquiry:createTaskSingleActivityRequest" bpdm:binding="ManualHSANInquiry:WorkflowSoapBinding" bpdm:ID="_xuMNwLr9EeaNtrdCjMGf0gOutgoing"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="manualHSANInquiryCreateTaskSingleActivityResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="ManualHSANInquiry:createTaskSingleActivityResponse" bpdm:binding="ManualHSANInquiry:WorkflowSoapBinding" bpdm:ID="_xuMNwLr9EeaNtrdCjMGf0gIncoming"></bpdm:linkset>
                    </bpdm:messagingtask>
                    <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_8ZaaULr9EeaNtrdCjMGf0g">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$manualHSANInquiryCreateTaskSingleActivityResponse1Msg.root/ManualHSANInquiry:taskOutput/BTS1:ManualHSANInquiry/BTS1:HSANCost</bpel:from>
                                <bpel:to>$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:HSANCost</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="1689030568" targetPath="$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:HSANCost" targetedBy="1206236018-arg0"></mapper:vertice>
  <mapper:vertice id="1206236018" sourcePath="$manualHSANInquiryCreateTaskSingleActivityResponse1Msg.root/ManualHSANInquiry:taskOutput/BTS1:ManualHSANInquiry/BTS1:HSANCost"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:RequestID</bpel:from>
                                <bpel:to>$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:RequestID</bpel:to>
<mapper:mapperLink>
  <mapper:vertice id="977427137" targetPath="$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:RequestID" targetedBy="736171155-arg0"></mapper:vertice>
  <mapper:vertice id="736171155" sourcePath="$bTSReceive__HSAN_CostRequest1Msg.body/BTS1:RequestID"></mapper:vertice>
</mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpdm:gateway>
            <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_3zafkLr9EeaNtrdCjMGf0g" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
            <bpdm:messagingtask eventType="end: message" operation="Receive__HSAN_Cost" partnerLink="hSAN_CoordinatorAndBTSPlkVar" portType="BTS:ForHSAN_Coordinator" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Submit response" bpdm:ID="_MIFkkLr8EeaNtrdCjMGf0g">
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="bTSReceive__HSAN_CostRequest1Msg" bpdm:msgVarScopeId="_SkCw0Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="BTS:Receive__HSAN_CostRequest" bpdm:ID="_NsJ_YLr8EeaNtrdCjMGf0g">
                    <bpel:correlation set="HSANCorrelationSet" initiate="join" pattern="request"></bpel:correlation>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="bTSReceive__HSAN_CostResponse2Msg" bpdm:msgVarScopeId="_SkCw0Lr7EeaNtrdCjMGf0g" bpdm:variableIsManaged="true" bpdm:messageType="BTS:Receive__HSAN_CostResponse" bpdm:ID="_5HTwYLr9EeaNtrdCjMGf0g"></bpdm:linkset>
            </bpdm:messagingtask>
        </bpel:sequence>
    </bpel:scope>
</bpel:process>